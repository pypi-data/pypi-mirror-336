<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="module" src="https://cdn.jsdelivr.net/npm/@n8n_io/n8n-demo-component/n8n-demo.bundled.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@webcomponents/webcomponentsjs@2.0.0/webcomponents-loader.js"></script>
  <script src="https://www.unpkg.com/lit@2.0.0-rc.2/polyfill-support.js"></script>
  <title>Workflow Selection</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f8f9fa;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      color: #333;
    }
    .carousel-container {
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 20px 0;
    }
    .carousel {
      display: flex;
      overflow-x: auto;
      scroll-behavior: smooth;
      width: 300px;
      gap: 10px;
    }
    .pipeline-card {
      min-width: 200px;
      background: white;
      padding: 10px;
      border-radius: 10px;
      text-align: center;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .pipeline-card.active {
      border: 2px solid #007bff;
    }
    .workflow-container {
      display: none;
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      margin-top: 20px;
    }
    .content-container {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
    }
    #svgContainer, #webhookResponse {
      width: 45%;
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      border-radius: 5px;
    }
    button:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>
  <h1>Select and Execute Workflow</h1>
  <div class="carousel-container">
    <button onclick="scrollLeft()">⬅</button>
    <div class="carousel" id="pipelineCarousel">
      <div class="pipeline-card" onclick="selectPipeline(1)">Workflow 1</div>
      <div class="pipeline-card" onclick="selectPipeline(2)">Workflow 2</div>
    </div>
    <button onclick="scrollRight()">➡</button>
  </div>
  
  <div id="workflow1" class="workflow-container">
    <h2>Workflow 1</h2>
    <n8n-demo id="workflow1Visualization" workflow='{
      "name": "My workflow 4",
      "nodes": [
        {
          "parameters": {
            "httpMethod": "POST",
            "path": "47c193b6-988b-45af-b777-bff42ca01f3c",
            "responseMode": "responseNode",
            "options": {}
          },
          "id": "ddfe2823-6eac-489d-98a6-3062db6f5e24",
          "name": "Webhook",
          "type": "n8n-nodes-base.webhook",
          "typeVersion": 1,
          "position": [
            -460,
            -660
          ],
          "webhookId": "47c193b6-988b-45af-b777-bff42ca01f3b"
        },
        {
          "parameters": {
            "keepOnlySet": "=true",
            "values": {
              "string": [
                {
                  "name": "text",
                  "value": "={{$json[\"body\"][\"text\"]}}"
                },
                {
                  "name": "AIF",
                  "value": "{}"
                }
              ],
              "boolean": [
                {
                  "name": "dialog",
                  "value": true
                }
              ]
            },
            "options": {}
          },
          "name": "Set Dialog Text",
          "type": "n8n-nodes-base.set",
          "typeVersion": 1,
          "position": [
            -220,
            -660
          ],
          "id": "f3c3fdb5-a12f-4217-8ef9-f586ae58def0"
        },
        {
          "parameters": {
            "functionCode": "return items;"
          },
          "name": "Text to JSON",
          "type": "n8n-nodes-base.function",
          "typeVersion": 1,
          "position": [
            40,
            -660
          ],
          "id": "5c7bb9d8-cfe1-41b6-b904-01ead4859f45"
        },
        {
          "parameters": {
            "mode": "jsonToBinary",
            "options": {
              "fileName": "file.json",
              "mimeType": "text/plain"
            }
          },
          "name": "JSON to File",
          "type": "n8n-nodes-base.moveBinaryData",
          "typeVersion": 1,
          "position": [
            280,
            -660
          ],
          "id": "368af8f3-720e-4178-ae0a-2a87473bbf08"
        },
        {
          "parameters": {
            "respondWith": "binary",
            "options": {}
          },
          "id": "64d3a922-c617-4853-a45f-ec969d3c5e7d",
          "name": "Respond to Webhook",
          "type": "n8n-nodes-base.respondToWebhook",
          "typeVersion": 1,
          "position": [
            760,
            -400
          ]
        },
        {
          "parameters": {
            "requestMethod": "POST",
            "url": "http://default-turninator.amfws.arg.tech/turninator-01",
            "responseFormat": "file",
            "jsonParameters": true,
            "options": {
              "bodyContentType": "multipart-form-data"
            },
            "sendBinaryData": true
          },
          "name": "default-turn-separator–Gemechu-2025",
          "type": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "position": [
            -220,
            -400
          ],
          "id": "1064bef1-b067-4e67-a743-05e4e56307ce"
        },
        {
          "parameters": {
            "requestMethod": "POST",
            "url": "http://default-segmenter.amfws.arg.tech/segmenter-01",
            "responseFormat": "file",
            "jsonParameters": true,
            "options": {
              "bodyContentType": "multipart-form-data"
            },
            "sendBinaryData": true
          },
          "name": "default-segmenter–Gemechu-2025",
          "type": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "position": [
            40,
            -400
          ],
          "id": "e2b13db6-ea70-4e84-a9c7-40621445127c"
        },
        {
          "parameters": {
            "requestMethod": "POST",
            "url": "http://default-proposition-unitiser.amfws.arg.tech/propositionUnitizer-01",
            "responseFormat": "file",
            "jsonParameters": true,
            "options": {
              "bodyContentType": "multipart-form-data"
            },
            "sendBinaryData": true
          },
          "name": "simple-propositionaliser–Gemechu-2025",
          "type": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "position": [
            280,
            -400
          ],
          "id": "8379b3b1-1b18-4e80-8dc8-b48aae8d9d54",
          "notesInFlow": false
        },
        {
          "parameters": {
            "requestMethod": "POST",
            "url": "http://bert-te.amfws.arg.tech/bert-te",
            "responseFormat": "file",
            "jsonParameters": true,
            "options": {
              "bodyContentType": "multipart-form-data"
            },
            "sendBinaryData": true
          },
          "name": "default-textual-entailment-recogniser– Gemechu-2025",
          "type": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "position": [
            520,
            -400
          ],
          "id": "14d3c41c-ba01-4ae9-8e9c-8e3e6fedc867"
        }
      ],
      "pinData": {},
      "connections": {
        "Webhook": {
          "main": [
            [
              {
                "node": "Set Dialog Text",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Set Dialog Text": {
          "main": [
            [
              {
                "node": "Text to JSON",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Text to JSON": {
          "main": [
            [
              {
                "node": "JSON to File",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "JSON to File": {
          "main": [
            [
              {
                "node": "default-turn-separator–Gemechu-2025",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "default-turn-separator–Gemechu-2025": {
          "main": [
            [
              {
                "node": "default-segmenter–Gemechu-2025",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "default-segmenter–Gemechu-2025": {
          "main": [
            [
              {
                "node": "simple-propositionaliser–Gemechu-2025",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "simple-propositionaliser–Gemechu-2025": {
          "main": [
            [
              {
                "node": "default-textual-entailment-recogniser– Gemechu-2025",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "default-textual-entailment-recogniser– Gemechu-2025": {
          "main": [
            [
              {
                "node": "Respond to Webhook",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      },
      "active": true,
      "settings": {},
      "versionId": "eaf1bc9f-19ea-4beb-8925-b795994c2f5f",
      "id": "24",
      "meta": {
        "instanceId": "6c15c90718aef4097bd8fbcc243a18fdc314a5b141f1af67f7e31c7420cb8f87"
      },
      "tags": []
    }' frame="true"></n8n-demo>
  </div>
  <div id="workflow2" class="workflow-container">
    <h2>Workflow 2</h2>
    <n8n-demo id="workflow2Visualization" workflow='{
      "name": "My workflow 6",
      "nodes": [
        {
          "parameters": {
            "httpMethod": "POST",
            "path": "47c193b6-988b-45af-b777-bff42ca01f3c",
            "responseMode": "responseNode",
            "options": {}
          },
          "id": "b40cfd66-d80f-4a67-bd6f-8053ec0f511f",
          "name": "Webhook",
          "type": "n8n-nodes-base.webhook",
          "typeVersion": 1,
          "position": [
            -460,
            -760
          ],
          "webhookId": "e434ee23-8b00-4aca-b59e-5511a452507b"
        },
        {
          "parameters": {
            "keepOnlySet": "=true",
            "values": {
              "string": [
                {
                  "name": "text",
                  "value": "={{$json[\"body\"][\"text\"]}}"
                },
                {
                  "name": "AIF",
                  "value": "{}"
                }
              ],
              "boolean": [
                {
                  "name": "dialog",
                  "value": true
                }
              ]
            },
            "options": {}
          },
          "name": "Set Dialog Text",
          "type": "n8n-nodes-base.set",
          "typeVersion": 1,
          "position": [
            -220,
            -760
          ],
          "id": "2c1a4435-3f6d-4421-819b-971878032f43"
        },
        {
          "parameters": {
            "functionCode": "return items;"
          },
          "name": "Text to JSON",
          "type": "n8n-nodes-base.function",
          "typeVersion": 1,
          "position": [
            20,
            -760
          ],
          "id": "6ebe67e4-0dc0-48dc-a1ea-d24d729cad49"
        },
        {
          "parameters": {
            "mode": "jsonToBinary",
            "options": {
              "fileName": "file.json",
              "mimeType": "text/plain"
            }
          },
          "name": "JSON to File",
          "type": "n8n-nodes-base.moveBinaryData",
          "typeVersion": 1,
          "position": [
            260,
            -760
          ],
          "id": "0a1a916a-7a14-423c-b46a-fb24edf10a8e"
        },
        {
          "parameters": {
            "respondWith": "binary",
            "options": {}
          },
          "id": "5baa8edd-ba5e-4d11-942f-7850fa5573da",
          "name": "Respond to Webhook",
          "type": "n8n-nodes-base.respondToWebhook",
          "typeVersion": 1,
          "position": [
            700,
            -500
          ]
        },
        {
          "parameters": {
            "requestMethod": "POST",
            "url": "http://default-turninator.amfws.arg.tech/turninator-01",
            "responseFormat": "file",
            "jsonParameters": true,
            "options": {
              "bodyContentType": "multipart-form-data"
            },
            "sendBinaryData": true
          },
          "name": "default-turn-separator–Gemechu-2025",
          "type": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "position": [
            -220,
            -500
          ],
          "id": "1e2106ce-38af-4c5a-8605-a1f82b229de8"
        },
        {
          "parameters": {
            "requestMethod": "POST",
            "url": "http://targer.amfws.arg.tech/targer-segmenter",
            "responseFormat": "file",
            "jsonParameters": true,
            "options": {
              "bodyContentType": "multipart-form-data"
            },
            "sendBinaryData": true
          },
          "name": "targer-segmenter–Chernodub-201",
          "type": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "position": [
            20,
            -500
          ],
          "id": "b27c110b-b075-47b5-bd6f-feab2dc153d2"
        },
        {
          "parameters": {
            "requestMethod": "POST",
            "url": "http://cascading-propositionUnitiser.amfws.arg.tech/propositionalizer-cascading",
            "responseFormat": "file",
            "jsonParameters": true,
            "options": {
              "bodyContentType": "multipart-form-data"
            },
            "sendBinaryData": true
          },
          "name": "cascade-propositionaliser–Jo-2019",
          "type": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "position": [
            260,
            -500
          ],
          "id": "1d3931d7-e5d4-4274-ae1c-8321ad832a92",
          "notesInFlow": false
        },
        {
          "parameters": {
            "requestMethod": "POST",
            "url": "http://vanilla-caasr.amfws.arg.tech/caasra",
            "responseFormat": "file",
            "jsonParameters": true,
            "options": {
              "bodyContentType": "multipart-form-data"
            },
            "sendBinaryData": true
          },
          "name": "decoder-relation-identifier–Gemechu-2024",
          "type": "n8n-nodes-base.httpRequest",
          "typeVersion": 1,
          "position": [
            480,
            -500
          ],
          "id": "1936c86c-0dcc-4dbc-8305-759022a10528"
        }
      ],
      "pinData": {},
      "connections": {
        "Webhook": {
          "main": [
            [
              {
                "node": "Set Dialog Text",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Set Dialog Text": {
          "main": [
            [
              {
                "node": "Text to JSON",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "Text to JSON": {
          "main": [
            [
              {
                "node": "JSON to File",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "JSON to File": {
          "main": [
            [
              {
                "node": "default-turn-separator–Gemechu-2025",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "default-turn-separator–Gemechu-2025": {
          "main": [
            [
              {
                "node": "targer-segmenter–Chernodub-201",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "targer-segmenter–Chernodub-201": {
          "main": [
            [
              {
                "node": "cascade-propositionaliser–Jo-2019",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "cascade-propositionaliser–Jo-2019": {
          "main": [
            [
              {
                "node": "decoder-relation-identifier–Gemechu-2024",
                "type": "main",
                "index": 0
              }
            ]
          ]
        },
        "decoder-relation-identifier–Gemechu-2024": {
          "main": [
            [
              {
                "node": "Respond to Webhook",
                "type": "main",
                "index": 0
              }
            ]
          ]
        }
      },
      "active": false,
      "settings": {},
      "versionId": "c8abc310-1a07-48b7-8a62-466629f0007f",
      "id": "26",
      "meta": {
        "instanceId": "6c15c90718aef4097bd8fbcc243a18fdc314a5b141f1af67f7e31c7420cb8f87"
      },
      "tags": []
    }' frame="true"></n8n-demo>
  </div>

  <div>
    <label for="userInput">Enter Text:</label>
    <input type="text" id="userInput" value="Sample input..." style="padding: 10px; width: 60%;">
  </div>
  <button id="triggerWebhookButton">Trigger Workflow</button>
  
  <div class="content-container">
    <div id="svgContainer">
      <h3>Argument Graph</h3>
    </div>
    <div id="webhookResponse">
      <h3>xAIF Output</h3>
      <pre id="responseData"></pre>
    </div>
  </div>
  
  <script>
    function scrollLeft() {
      document.getElementById('pipelineCarousel').scrollBy({ left: -200, behavior: 'smooth' });
    }
    function scrollRight() {
      document.getElementById('pipelineCarousel').scrollBy({ left: 200, behavior: 'smooth' });
    }
    function selectPipeline(id) {
      document.querySelectorAll('.pipeline-card').forEach(card => card.classList.remove('active'));
      document.querySelectorAll('.workflow-container').forEach(container => container.style.display = 'none');
      document.querySelector(`.pipeline-card:nth-child(${id})`).classList.add('active');
      document.getElementById(`workflow${id}`).style.display = 'block';
    }
    document.getElementById('triggerWebhookButton').addEventListener('click', () => {
      alert("Triggering selected workflow...");
    });
  </script>
</body>
</html>
