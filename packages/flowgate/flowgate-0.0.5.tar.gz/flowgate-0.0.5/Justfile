# Justfile for flowgate
# https://just.systems/

# List available commands
default:
	@just --list

# Setup the development environment
setup:
	uv venv .venv
	uv pip install -e ".[dev,mongo,redis,cnamedtuple]"

# Run linting checks
lint:
	uv run flake8
	uv run mypy flowgate/

# Run tests
test:
	uv run pytest

# Sync dependencies
sync:
	uv pip sync

# Build the package
build:
	uv build

# Publish the package to PyPI
publish: build
	uv publish

# Clean up build artifacts
clean:
	rm -rf dist build *.egg-info .coverage .pytest_cache
	find . -type d -name __pycache__ -exec rm -rf {} +
