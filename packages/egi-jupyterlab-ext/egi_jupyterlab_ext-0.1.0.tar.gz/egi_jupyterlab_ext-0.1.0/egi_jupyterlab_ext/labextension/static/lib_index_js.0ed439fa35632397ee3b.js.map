{"version":3,"file":"lib_index_js.0ed439fa35632397ee3b.js","mappings":"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","sources":["webpack://egi-jupyterlab-ext/./src/components/NumberInput.tsx","webpack://egi-jupyterlab-ext/./src/components/RefreshButton.tsx","webpack://egi-jupyterlab-ext/./src/index.ts","webpack://egi-jupyterlab-ext/./src/widget.tsx","webpack://egi-jupyterlab-ext/./node_modules/@mui/icons-material/esm/RefreshRounded.js"],"sourcesContent":["import { TextField } from '@mui/material';\nimport React from 'react';\nimport { DEFAULT_REFRESH_RATE } from '../widget';\n\ninterface INumberInput {\n  // currentRefreshValue: number;\n  handleRefreshNumberChange: (newValue: string) => void;\n}\n\nexport default function NumberInput({\n  // currentRefreshValue,\n  handleRefreshNumberChange\n}: INumberInput) {\n  return (\n    <TextField\n      id=\"outlined-number\"\n      label=\"Refresh(S)\"\n      type=\"number\"\n      slotProps={{\n        inputLabel: {\n          shrink: true\n        }\n      }}\n      onChange={event => handleRefreshNumberChange(event.target.value)}\n      // value={currentRefreshValue}\n      defaultValue={DEFAULT_REFRESH_RATE}\n      size=\"small\"\n      sx={{ maxWidth: 90 }}\n    />\n  );\n}\n","import React from 'react';\nimport { IconButton } from '@mui/material';\nimport RefreshRoundedIcon from '@mui/icons-material/RefreshRounded';\n\ninterface IRefreshButton {\n  handleRefreshClick: () => void;\n}\n\nexport default function RefreshButton({ handleRefreshClick }: IRefreshButton) {\n  return (\n    <>\n      <IconButton onClick={handleRefreshClick} size=\"small\">\n        <RefreshRoundedIcon />\n      </IconButton>\n    </>\n  );\n}\n","import {\n  ILayoutRestorer,\n  JupyterFrontEnd,\n  JupyterFrontEndPlugin\n} from '@jupyterlab/application';\n\nimport {\n  ICommandPalette,\n  MainAreaWidget,\n  WidgetTracker\n} from '@jupyterlab/apputils';\n\nimport { MainWidget } from './widget';\n\n/**\n * Main reference: https://github.com/jupyterlab/extension-examples/blob/71486d7b891175fb3883a8b136b8edd2cd560385/react/react-widget/src/index.ts\n * And all other files in the repo.\n */\n\nconst namespaceId = 'gdapod';\n\n/**\n * Initialization data for the GreenDIGIT JupyterLab extension.\n */\nconst plugin: JupyterFrontEndPlugin<void> = {\n  id: 'jupyterlab-greendigit',\n  description: 'GreenDIGIT App',\n  autoStart: true,\n  requires: [ICommandPalette, ILayoutRestorer],\n  activate: async (\n    app: JupyterFrontEnd,\n    palette: ICommandPalette,\n    restorer: ILayoutRestorer\n  ) => {\n    console.log('JupyterLab extension GreenDIGIT is activated!');\n\n    const { shell } = app;\n\n    // Create a widget tracker\n    const tracker = new WidgetTracker<MainAreaWidget<MainWidget>>({\n      namespace: namespaceId\n    });\n\n    // Ensure the tracker is restored properly on refresh\n    restorer.restore(tracker, {\n      command: `${namespaceId}:open`,\n      name: () => 'greendigit-jupyterlab'\n      // when: app.restored, // Ensure restorer waits for the app to be fully restored\n    });\n\n    // Define a widget creator function\n    const newWidget = async (): Promise<MainAreaWidget<MainWidget>> => {\n      const content = new MainWidget();\n      const widget = new MainAreaWidget({ content });\n      widget.id = 'greendigit-jupyterlab';\n      widget.title.label = 'GreenDIGIT Dashboard';\n      widget.title.closable = true;\n      return widget;\n    };\n\n    // Add an application command\n    const openCommand: string = `${namespaceId}:open`;\n\n    app.commands.addCommand(openCommand, {\n      label: 'Open GreenDIGIT Dashboard',\n      execute: async () => {\n        let widget = tracker.currentWidget;\n        if (!widget || widget.isDisposed) {\n          widget = await newWidget();\n          // Add the widget to the tracker and shell\n          tracker.add(widget);\n          shell.add(widget, 'main');\n        }\n        if (!widget.isAttached) {\n          shell.add(widget, 'main');\n        }\n        shell.activateById(widget.id);\n      }\n    });\n\n    // Add the command to the palette\n    palette.addItem({ command: openCommand, category: 'Sustainability' });\n\n    // Restore the widget if available\n    if (!tracker.currentWidget) {\n      const widget = await newWidget();\n      tracker.add(widget);\n      shell.add(widget, 'main');\n    }\n  }\n};\n\nexport default plugin;\n","import React from 'react';\nimport { ReactWidget } from '@jupyterlab/apputils';\nimport { Grid2, Paper } from '@mui/material';\nimport RefreshButton from './components/RefreshButton';\nimport NumberInput from './components/NumberInput';\n\n// import BandHighLight from './components/BandHighLight';\n// import ElementHighlights from './components/ElementHighlights';\n// import MapComponent from './components/map/MapComponent';\n// import VerticalLinearStepper from './components/VerticalLinearStepper';\n\nconst styles: Record<string, React.CSSProperties> = {\n  main: {\n    display: 'flex',\n    flexDirection: 'row',\n    width: '100%',\n    height: '100%',\n    flexWrap: 'wrap',\n    boxSizing: 'border-box',\n    padding: '3px'\n  },\n  grid: {\n    display: 'flex',\n    justifyContent: 'center',\n    // alignItems: 'center',\n    flex: '0 1 100%',\n    width: '100%'\n  }\n};\n\n// function GridContent() {\n//   return (\n//     <Grid2 sx={{ width: '100%', px: 3, py: 5 }}>\n//       <VerticalLinearStepper />\n//     </Grid2>\n//   );\n// }\n\nexport const DEFAULT_REFRESH_RATE = 2;\n\nfunction debounce<T extends (...args: any[]) => void>(\n  func: T,\n  delay: number\n): (...args: Parameters<T>) => void {\n  let timer: ReturnType<typeof setTimeout>;\n  return (...args: Parameters<T>) => {\n    clearTimeout(timer);\n    timer = setTimeout(() => func(...args), delay);\n  };\n}\n\n/**\n * React component for a counter.\n *\n * @returns The React component\n */\nconst App = (): JSX.Element => {\n  const iframeRef = React.useRef<HTMLIFrameElement>(null);\n\n  const [refreshRateS, setRefreshRateS] =\n    React.useState<number>(DEFAULT_REFRESH_RATE);\n\n  const [iframeSrc, setIframeSrc] = React.useState<string>(\n    `http://localhost:3000/d-solo/ceetwcgabhgcgb/ping-go-server?orgId=1&from=1741098858351&to=1741100658351&timezone=browser&panelId=1&__feature.dashboardSceneSolo&refresh=${refreshRateS}s`\n  );\n\n  React.useEffect(() => {\n    setIframeSrc(prevState => {\n      const base = prevState.split('&refresh=')[0];\n      return `${base}&refresh=${refreshRateS}s`;\n    });\n  }, [refreshRateS]);\n\n  function handleRefreshClick() {\n    // alert('Refreshing...');\n    if (iframeRef.current) {\n      const copy_src = structuredClone(iframeRef.current.src);\n      iframeRef.current.src = copy_src;\n    }\n  }\n\n  // function handleNumberChange(value: string) {\n  //   debounce(() => setRefreshRateS(Number(value)), 200);\n  // }\n\n  // Create a debounced version of setRefreshRateS\n  // Using 200ms delay instead of 2ms for a noticeable debounce effect.\n  const debouncedSetRefreshRateS = React.useMemo(\n    () => debounce((value: number) => setRefreshRateS(value), 1000),\n    []\n  );\n\n  // Call the debounced function on number change\n  function handleNumberChange(value: string) {\n    const parsedValue = Number(value);\n    if (!isNaN(parsedValue)) {\n      debouncedSetRefreshRateS(parsedValue);\n    }\n  }\n\n  return (\n    <div style={styles.main}>\n      <Paper style={styles.grid}>\n        {/* <GridContent /> */}\n\n        <iframe\n          src={iframeSrc}\n          width=\"450\"\n          height=\"200\"\n          frameBorder=\"0\"\n          sandbox=\"allow-scripts allow-same-origin\"\n          ref={iframeRef}\n        ></iframe>\n        <Grid2>\n          <RefreshButton handleRefreshClick={handleRefreshClick} />\n          <NumberInput\n            // currentRefreshValue={refreshRateS}\n            handleRefreshNumberChange={newValue => handleNumberChange(newValue)}\n          />\n        </Grid2>\n      </Paper>\n    </div>\n  );\n};\n\n/**\n * A Counter Lumino Widget that wraps a CounterComponent.\n */\nexport class MainWidget extends ReactWidget {\n  /**\n   * Constructs a new CounterWidget.\n   */\n  constructor() {\n    super();\n    this.addClass('jp-ReactWidget');\n  }\n\n  render(): JSX.Element {\n    return <App />;\n  }\n}\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M17.65 6.35c-1.63-1.63-3.94-2.57-6.48-2.31-3.67.37-6.69 3.35-7.1 7.02C3.52 15.91 7.27 20 12 20c3.19 0 5.93-1.87 7.21-4.56.32-.67-.16-1.44-.9-1.44-.37 0-.72.2-.88.53-1.13 2.43-3.84 3.97-6.8 3.31-2.22-.49-4.01-2.3-4.48-4.52C5.31 9.44 8.26 6 12 6c1.66 0 3.14.69 4.22 1.78l-1.51 1.51c-.63.63-.19 1.71.7 1.71H19c.55 0 1-.45 1-1V6.41c0-.89-1.08-1.34-1.71-.71z\"\n}), 'RefreshRounded');"],"names":[],"sourceRoot":""}