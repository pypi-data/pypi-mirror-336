(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5442],{72101:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/rag",function(){return a(93057)}])},93057:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var l=a(37876),t=a(93010),c=a(14107),i=a(33810),n=a(33949),r=a(22196),d=a(98594),o=a(89099),x=a(14232),m=a(7700),h=a(7305);function u(e){let{collection:s,onClick:a}=e;return(0,l.jsx)(i.Z,{isPressable:!0,onPress:()=>a(s.id),className:"relative w-full",children:(0,l.jsxs)(n.U,{className:"relative min-h-[180px] bg-gradient-to-br from-content1 to-default-100/50 p-6",children:[(0,l.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,l.jsx)("h2",{className:"text-xl font-semibold",children:s.name})}),s.description&&(0,l.jsx)("p",{className:"text-default-500 text-sm mb-3",children:s.description}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)(d.In,{icon:"solar:document-linear",className:"text-default-400",width:16}),(0,l.jsxs)("p",{className:"text-default-500",children:[s.document_count," Documents"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)(d.In,{icon:"solar:layers-minimalistic-linear",className:"text-default-400",width:16}),(0,l.jsxs)("p",{className:"text-default-500",children:[s.chunk_count," Chunks"]})]}),(0,l.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,l.jsx)(h.R,{size:"sm",variant:"flat",color:"ready"===s.status?"success":"failed"===s.status?"danger":"warning",startContent:(0,l.jsx)(d.In,{icon:"ready"===s.status?"solar:check-circle-linear":"failed"===s.status?"solar:danger-circle-linear":"solar:clock-circle-linear",width:14}),children:(0,l.jsx)("span",{className:"capitalize",children:s.status})})})]})]})})}function f(e){let{index:s,onClick:a}=e;return(0,l.jsx)(i.Z,{isPressable:!0,onPress:()=>a(s.id),className:"relative w-full",children:(0,l.jsxs)(n.U,{className:"relative min-h-[180px] bg-gradient-to-br from-content1 to-default-100/50 p-6",children:[(0,l.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,l.jsx)("h2",{className:"text-xl font-semibold",children:s.name})}),s.description&&(0,l.jsx)("p",{className:"text-default-500 text-sm mb-3",children:s.description}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)(d.In,{icon:"solar:document-linear",className:"text-default-400",width:16}),(0,l.jsxs)("p",{className:"text-default-500",children:[s.document_count," Documents"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)(d.In,{icon:"solar:layers-minimalistic-linear",className:"text-default-400",width:16}),(0,l.jsxs)("p",{className:"text-default-500",children:[s.chunk_count," Chunks"]})]}),(0,l.jsx)("div",{className:"flex items-center gap-2 text-sm",children:(0,l.jsx)(h.R,{size:"sm",variant:"flat",color:"ready"===s.status?"success":"failed"===s.status?"danger":"warning",startContent:(0,l.jsx)(d.In,{icon:"ready"===s.status?"solar:check-circle-linear":"failed"===s.status?"solar:danger-circle-linear":"solar:clock-circle-linear",width:14}),children:(0,l.jsx)("span",{className:"capitalize",children:s.status})})})]})]})})}let j=()=>{let e=(0,o.useRouter)(),[s,a]=(0,x.useState)([]),[t,h]=(0,x.useState)([]),[j,N]=(0,x.useState)(!0),[g,p]=(0,x.useState)(null);return((0,x.useEffect)(()=>{(async()=>{try{let[e,s]=await Promise.all([(0,m.Xn)(),(0,m.PG)()]),l=[...e].sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime()),t=[...s].sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime());a(l),h(t),p(null)}catch(e){console.error("Error fetching data:",e),p("Failed to load data. Please try again.")}finally{N(!1)}})()},[]),j)?(0,l.jsx)("div",{className:"flex justify-center items-center min-h-[200px]",children:(0,l.jsx)(c.o,{})}):(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[g&&(0,l.jsx)(i.Z,{className:"bg-danger-50",children:(0,l.jsx)(n.U,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(d.In,{icon:"solar:danger-circle-bold",className:"text-danger",width:20}),(0,l.jsx)("p",{className:"text-danger",children:g})]})})}),(0,l.jsx)(i.Z,{className:"shadow-small",children:(0,l.jsx)(n.U,{children:(0,l.jsx)("div",{className:"flex flex-col gap-2",children:(0,l.jsx)("div",{className:"flex justify-between items-start",children:(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-default-900",children:"Knowledge Bases"}),(0,l.jsx)("p",{className:"text-small text-default-500",children:"Manage your document collections and vector indices"})]})})})})}),(0,l.jsx)(i.Z,{className:"shadow-small",children:(0,l.jsx)(n.U,{children:(0,l.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Document Collections"}),(0,l.jsx)(r.T,{color:"primary",variant:"flat",startContent:(0,l.jsx)(d.In,{icon:"solar:add-circle-linear",width:20}),onPress:()=>e.push("/rag/collections/new"),children:"Create Collection"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.length>0?s.map(s=>(0,l.jsx)(u,{collection:s,onClick:s=>e.push("/rag/collections/".concat(s))},s.id)):(0,l.jsx)(i.Z,{className:"bg-default-50 col-span-full",children:(0,l.jsx)(n.U,{className:"py-8",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsx)(d.In,{icon:"solar:documents-minimalistic-linear",width:48,className:"text-default-400"}),(0,l.jsx)("p",{className:"text-default-500",children:"No document collections found"}),(0,l.jsx)(r.T,{color:"primary",variant:"flat",startContent:(0,l.jsx)(d.In,{icon:"solar:add-circle-linear",width:20}),onPress:()=>e.push("/rag/collections/new"),children:"Create Your First Collection"})]})})})})]})})}),(0,l.jsx)(i.Z,{className:"shadow-small",children:(0,l.jsx)(n.U,{children:(0,l.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold",children:"Vector Indices"}),(0,l.jsx)(r.T,{color:"primary",variant:"flat",startContent:(0,l.jsx)(d.In,{icon:"solar:add-circle-linear",width:20}),onPress:()=>e.push("/rag/indices/new"),children:"Create Index"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.length>0?t.map(s=>(0,l.jsx)(f,{index:s,onClick:s=>e.push("/rag/indices/".concat(s))},s.id)):(0,l.jsx)(i.Z,{className:"bg-default-50 col-span-full",children:(0,l.jsx)(n.U,{className:"py-8",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsx)(d.In,{icon:"solar:chart-2-linear",width:48,className:"text-default-400"}),(0,l.jsx)("p",{className:"text-default-500",children:"No vector indices found"}),(0,l.jsx)(r.T,{color:"primary",variant:"flat",startContent:(0,l.jsx)(d.In,{icon:"solar:add-circle-linear",width:20}),onPress:()=>e.push("/rag/indices/new"),children:"Create Your First Index"})]})})})})]})})})]})};function N(){return(0,l.jsxs)("div",{className:"App relative",children:[(0,l.jsx)(t.A,{activePage:"rag"}),(0,l.jsx)("div",{className:"p-6",children:(0,l.jsx)(j,{})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[5352,6361,2377,5892,9235,9177,3010,636,6593,8792],()=>s(72101)),_N_E=e.O()}]);