(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{498:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(11713).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3624:(e,s,a)=>{"use strict";a.d(s,{P:()=>m});var l=a(43821),t=a(3013),n=a(42288),i=a(28227),c=a(78769),r=a(9679),d=a(35903);let o=(0,r.C)({...t.W,...i.n,...n.$,...c.Z},d.J),m=(0,l.I)(o)},4622:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(11713).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},10600:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/rag/collections/new",function(){return a(79231)}])},22885:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(11713).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},75922:(e,s,a)=>{"use strict";a.d(s,{o:()=>v});var l=a(87480),t=a(34837),n=a(61584),i=a(13605),c=a(8871),r=a(40812),d=a(63357),o=a(38591),m=a(95264),h=a(14232),u=a(2597),x=a(9031),p=a(37876),j=(0,t.Rf)((e,s)=>{let{Component:a,slots:j,classNames:v,label:f,percentage:g,showValueLabel:_,getProgressBarProps:N,getLabelProps:b}=function(e){var s,a;let p=(0,l.o)(),[j,v]=(0,t.rE)(e,n.q.variantKeys),{ref:f,as:g,id:_,className:N,classNames:b,label:y,valueLabel:k,value:w=0,minValue:C=0,maxValue:z=100,showValueLabel:A=!1,formatOptions:M={style:"percent"},...P}=j,S=(0,i.zD)(f),T=(0,c.$)(null==b?void 0:b.base,N),[,I]=(0,u.a)({rerender:!0,delay:100}),E=e.isIndeterminate,D=null!=(a=null!=(s=e.disableAnimation)?s:null==p?void 0:p.disableAnimation)&&a,{progressBarProps:L,labelProps:U}=(0,x.E)({id:_,label:y,value:w,minValue:C,maxValue:z,valueLabel:k,formatOptions:M,isIndeterminate:E,"aria-labelledby":e["aria-labelledby"],"aria-label":e["aria-label"]}),O=(0,h.useMemo)(()=>(0,n.q)({...v,disableAnimation:D}),[(0,r.t6)(v),D]),R=!!D||I,V=(0,h.useMemo)(()=>E||!R?void 0:(0,d.QN)((w-C)/(z-C)*100),[R,E,w,C,z]),Z=(0,h.useCallback)((s={})=>({ref:S,"data-indeterminate":(0,o.sE)(E),"data-disabled":(0,o.sE)(e.isDisabled),className:O.base({class:T}),...(0,m.v)(L,P,s)}),[S,O,E,e.isDisabled,T,L,P]),F=(0,h.useCallback)((e={})=>({className:O.label({class:null==b?void 0:b.label}),...(0,m.v)(U,e)}),[O,b,U]);return{Component:g||"div",domRef:S,slots:O,classNames:b,label:y,percentage:V,showValueLabel:A,getProgressBarProps:Z,getLabelProps:F}}({...e,ref:s}),y=N(),k=f||_;return(0,p.jsxs)(a,{...y,children:[k?(0,p.jsxs)("div",{className:j.labelWrapper({class:null==v?void 0:v.labelWrapper}),children:[f&&(0,p.jsx)("span",{...b(),children:f}),_&&(0,p.jsx)("span",{className:j.value({class:null==v?void 0:v.value}),children:y["aria-valuetext"]})]}):null,(0,p.jsx)("div",{className:j.track({class:null==v?void 0:v.track}),children:(0,p.jsx)("div",{className:j.indicator({class:null==v?void 0:v.indicator}),style:{transform:`translateX(-${100-(g||0)}%)`}})})]})});j.displayName="HeroUI.Progress";var v=j},78572:(e,s,a)=>{"use strict";a.d(s,{A:()=>l});let l=(0,a(11713).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},79231:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>q});var l=a(37876),t=a(93010),n=a(3576),i=a(62701),c=a(41260),r=a(58170),d=a(22196),o=a(95035),m=a(68509),h=a(7305),u=a(33810),x=a(84310),p=a(14756),j=a(18709),v=a(38248),f=a(33949),g=a(33566),_=a(9941),N=a(75922),b=a(21505),y=a(3624),k=a(27212),w=a(78572),C=a(498),z=a(22885),A=a(4622),M=a(89099),P=a(14232),S=a(7700),T=a(67792),I=a(97623),E=a(37090),D=a(64553),L=a(12503),U=a(1958),O=a(73835),R=a(98594),V=a(20911);let Z=e=>{let{template:s,onTemplateChange:a,chunkingConfig:t,files:c}=e,[o,x]=(0,P.useState)(!1),[p,j]=(0,P.useState)(null),[v,N]=(0,P.useState)(null),[b,y]=(0,P.useState)(null);(0,P.useEffect)(()=>{(null==c?void 0:c.length)?N(c[0]):N(null)},[c]);let k=async()=>{try{if(x(!0),!v)throw Error("No file selected for preview");let e=await (0,S.YR)(v,(0,i._)((0,n._)({},t),{template:s}));j(e)}catch(e){console.error("Error getting preview:",e)}finally{x(!1)}};return(0,l.jsxs)(u.Z,{className:"w-full",children:[(0,l.jsx)(I.d,{className:"flex justify-between",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h3",{className:"text-medium font-semibold",children:"Chunk Template Editor"}),(0,l.jsx)(r.I,{content:"Configure how your chunks will be formatted",children:(0,l.jsx)(R.In,{icon:"solar:info-circle-linear",className:"text-default-400"})})]})}),(0,l.jsx)(m.y,{}),(0,l.jsx)(f.U,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h3",{className:"text-medium font-semibold",children:"Chunk Template"}),(0,l.jsx)(r.I,{content:"Use {{ text }} to reference the chunk text. You can add HTML formatting and additional text.",children:(0,l.jsx)(R.In,{icon:"solar:info-circle-linear",className:"text-default-400"})})]}),(0,l.jsx)(V.A,{nodeID:"chunk-template",fieldName:"template",content:s.template,setContent:e=>a((0,i._)((0,n._)({},s),{template:e})),inputSchema:["text"]}),(0,l.jsx)(m.y,{}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h3",{className:"text-medium font-semibold",children:"Preview"}),(0,l.jsx)(r.I,{content:"See how your template will be applied to chunks",children:(0,l.jsx)(R.In,{icon:"solar:info-circle-linear",className:"text-default-400"})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[c&&c.length>0&&(0,l.jsx)(g.d,{size:"sm",selectedKeys:v?[v.name]:[],onSelectionChange:e=>{var s;let a=null===(s=Array.from(e)[0])||void 0===s?void 0:s.toString(),l=c.find(e=>e.name===a);l&&N(l)},children:c.map(e=>(0,l.jsx)(_.y,{value:e.name,children:e.name},e.name))}),(0,l.jsx)(d.T,{size:"sm",color:"primary",variant:"flat",startContent:(0,l.jsx)(R.In,{icon:"solar:play-circle-linear"}),onPress:k,isLoading:o,isDisabled:o||!v,children:"Generate Preview"})]})]}),p&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,l.jsx)("h4",{className:"text-small font-semibold",children:"Preview Chunks"}),(0,l.jsxs)(h.R,{size:"sm",variant:"flat",children:[p.total_chunks," chunks total"]})]}),p.chunks.map((e,s)=>(0,l.jsx)(u.Z,{className:"bg-content2",children:(0,l.jsxs)(f.U,{className:"gap-4",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("h4",{className:"text-small font-semibold",children:["Chunk ",e.chunk_index,1===e.chunk_index&&" (Start)",e.chunk_index===p.total_chunks&&" (End)",1!==e.chunk_index&&e.chunk_index!==p.total_chunks&&" (Middle)"]}),(0,l.jsx)(d.T,{size:"sm",variant:"flat",onPress:()=>y(e),children:"View Full Text"})]})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-small font-semibold",children:"Processed Result"}),(0,l.jsx)("div",{className:"prose dark:prose-invert max-w-none mt-2 max-h-[200px] overflow-hidden",dangerouslySetInnerHTML:{__html:e.processed_text}})]}),(0,l.jsx)(m.y,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-small font-semibold",children:"Metadata"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(e.metadata).map(e=>{let[s,a]=e;return(0,l.jsxs)(h.R,{size:"sm",variant:"flat",children:[s,": ",a]},s)})})]})]})},s)),(0,l.jsx)(E.Y,{isOpen:!!b,onClose:()=>y(null),size:"full",children:(0,l.jsx)(D.g,{children:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(L.c,{children:(0,l.jsxs)("h3",{children:["Chunk ",null==b?void 0:b.chunk_index," Full Text"]})}),(0,l.jsx)(U.h,{children:(0,l.jsx)("div",{className:"prose dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:(null==b?void 0:b.processed_text)||""}})}),(0,l.jsx)(O.q,{children:(0,l.jsx)(d.T,{onPress:e,children:"Close"})})]})})})]}),!p&&!o&&(0,l.jsx)(u.Z,{className:"bg-default-50",children:(0,l.jsx)(f.U,{className:"py-8",children:(0,l.jsxs)("div",{className:"flex flex-col items-center gap-2 text-default-500",children:[(0,l.jsx)(R.In,{icon:"solar:document-text-linear",width:32}),(0,l.jsx)("p",{children:"No preview generated yet"}),(0,l.jsx)("p",{className:"text-small text-center",children:"Click “Generate Preview” to see how your template will be applied to chunks"})]})})})]})]})})]})},F=["Upload Documents","Configure Processing","Configure Templates","Create Collection"],H=()=>{let e=["Smart","Brilliant","Dynamic","Quantum","Neural","Cosmic","Intelligent","Advanced","Strategic","Innovative"],s=["Atlas","Nexus","Matrix","Archive","Library","Vault","Repository","Database","Collection","Hub"],a=e[Math.floor(Math.random()*e.length)],l=s[Math.floor(Math.random()*s.length)],t=new Date,n="".concat(t.toLocaleDateString()," ").concat(t.toLocaleTimeString());return"".concat(a," ").concat(l," - ").concat(n)},B=()=>{let e=(0,M.useRouter)(),[s,a]=(0,P.useState)(0),[t,I]=(0,P.useState)([]),[E,D]=(0,P.useState)(!1),[L,U]=(0,P.useState)(null),[O,R]=(0,P.useState)(null),[V,B]=(0,P.useState)({name:"",description:"",chunk_token_size:1e3,min_chunk_size_chars:100,use_vision_model:!1,chunkingMode:"automatic",template:{enabled:!1,template:"{{ text }}",metadata_template:{type:"text_chunk"}}});(0,P.useEffect)(()=>{if(L){let e=setTimeout(()=>{U(null)},3e3);return()=>clearTimeout(e)}},[L]),(0,P.useEffect)(()=>{if(O){let e=setTimeout(()=>{R(null)},3e3);return()=>clearTimeout(e)}},[O]);let q=e=>{I(e)},Q=async()=>{try{D(!0),console.log("Submitting..."),console.log(V);let s={name:V.name,description:V.description,text_processing:(0,n._)({chunk_token_size:0===t.length?1e3:"automatic"===V.chunkingMode?1e3:V.chunk_token_size,min_chunk_size_chars:0===t.length?100:"automatic"===V.chunkingMode?100:V.min_chunk_size_chars,min_chunk_length_to_embed:10,embeddings_batch_size:32,max_num_chunks:1e3,use_vision_model:0!==t.length&&V.use_vision_model,template:V.template.enabled?{enabled:V.template.enabled,template:V.template.template,metadata_template:V.template.metadata_template}:void 0},V.use_vision_model&&V.vision_model&&{vision_model:V.vision_model,vision_provider:V.vision_provider})},a=await (0,S.oZ)(s,t.length>0?t:void 0);U({type:"success",message:"Document collection created successfully"}),e.push("/rag/collections/".concat(a.id))}catch(e){console.error("Error creating collection:",e),U({type:"danger",message:"Error creating document collection"})}finally{D(!1)}},W=(e,s)=>{B(a=>(0,i._)((0,n._)({},a),{[e]:s}))},Y=e=>{B(s=>(0,i._)((0,n._)({},s),{chunk_token_size:e}))},G=e=>{B(s=>(0,i._)((0,n._)({},s),{min_chunk_size_chars:e}))},K=()=>t.some(e=>e.name.toLowerCase().endsWith(".pdf"))?(0,l.jsx)(u.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"PDF Processing"}),(0,l.jsx)(r.I,{content:"Configure how PDF documents will be processed",children:(0,l.jsx)(w.A,{className:"w-4 h-4 text-default-400"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(v.Z,{isDisabled:!0,isSelected:V.use_vision_model,onValueChange:e=>B(s=>(0,i._)((0,n._)({},s),{use_vision_model:e})),size:"sm",children:"Enable Vision Model for PDF Processing (Coming Soon)"}),(0,l.jsx)(r.I,{content:"Use AI vision models to better understand document layout and extract text. This feature is coming soon!",children:(0,l.jsx)(w.A,{className:"w-4 h-4 text-default-400"})})]}),V.use_vision_model&&(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)(g.d,{label:"Vision Model",placeholder:"Select vision model",selectedKeys:V.vision_model?["".concat(V.vision_model,"|").concat(V.vision_provider)]:[],onSelectionChange:e=>{var s;let[a,l]=((null===(s=Array.from(e)[0])||void 0===s?void 0:s.toString())||"").split("|");B(e=>(0,i._)((0,n._)({},e),{vision_model:a,vision_provider:l}))},children:[(0,l.jsx)(_.y,{children:"GPT-4 Vision (OpenAI)"},"gpt-4-vision|openai"),(0,l.jsx)(_.y,{children:"Claude 3 (Anthropic)"},"claude-3|anthropic")]})})]})]})}):null;return(0,l.jsx)("div",{className:"max-w-[1200px] mx-auto p-6 min-h-screen bg-gradient-to-b from-background to-default-50/50",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,l.jsx)("div",{className:"w-full md:w-1/3 lg:w-1/4",children:(0,l.jsxs)(y.P.div,{className:"sticky top-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,l.jsxs)("div",{className:"flex flex-col max-w-fit mb-2",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-default-900",children:"Create Document Collection"}),(0,l.jsx)("p",{className:"text-small text-default-400",children:"Follow the steps to configure your document collection settings."})]}),(0,l.jsx)(N.o,{classNames:{base:"mb-4",track:"drop-shadow-md",indicator:"bg-gradient-to-r from-primary to-primary-500",label:"text-sm font-medium",value:"text-sm font-medium text-default-500"},label:"Progress",size:"md",value:s/(F.length-1)*100,showValueLabel:!0,valueLabel:"".concat(s+1," of ").concat(F.length)}),(0,l.jsx)(k.N,{children:O&&(0,l.jsx)(y.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:(0,l.jsx)(b.B,{className:"mb-4",color:"primary",startContent:(0,l.jsx)(w.A,{className:"h-4 w-4"}),children:O})})}),(0,l.jsx)(k.N,{children:L&&(0,l.jsx)(y.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:(0,l.jsx)(b.B,{className:"mb-4",color:L.type,startContent:"success"===L.type?(0,l.jsx)(C.A,{className:"h-4 w-4"}):(0,l.jsx)(w.A,{className:"h-4 w-4"}),children:L.message})})}),(0,l.jsx)("div",{className:"flex flex-col gap-4",children:F.map((e,n)=>(0,l.jsx)(y.P.button,{onClick:()=>a(n),className:"flex flex-col gap-1 rounded-xl border-1 p-4 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg\n                    ".concat(s===n?"border-primary bg-primary/5 shadow-md":n<s?"border-success/50 bg-success/5":"border-default-200 dark:border-default-100","\n                    ").concat(1===n&&0===t.length?"opacity-50 cursor-not-allowed":""),disabled:n>s||1===n&&0===t.length,whileHover:{scale:n<=s&&(1!==n||0!==t.length)?1.02:1},whileTap:{scale:.98},children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full text-sm font-medium transition-colors duration-300\n                        ".concat(s===n?"bg-primary text-white shadow-md":n<s?"bg-success text-white":"bg-default-100 text-default-600"),children:n<s?"✓":n+1}),(0,l.jsxs)("div",{className:"flex flex-col items-start",children:[(0,l.jsx)("span",{className:"font-semibold text-default-900",children:e}),0===n&&(0,l.jsx)("span",{className:"text-xs text-default-400",children:"Upload your documents or create an empty collection"}),1===n&&(0,l.jsx)("span",{className:"text-xs text-default-400",children:"Configure text processing settings"}),2===n&&(0,l.jsx)("span",{className:"text-xs text-default-400",children:"Configure templates"}),3===n&&(0,l.jsx)("span",{className:"text-xs text-default-400",children:"Review and create your collection"})]})]})},n))})]})}),(0,l.jsx)(y.P.div,{className:"flex-1",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:(0,l.jsx)(u.Z,{className:"bg-background/60 dark:bg-background/60 backdrop-blur-lg backdrop-saturate-150 shadow-xl border-1 border-default-200",children:(0,l.jsxs)(f.U,{className:"gap-8 p-8",children:[(s=>{switch(s){case 0:return(0,l.jsx)("div",{className:"flex flex-col gap-6",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)(c.r,{label:"Collection Name",placeholder:"Optional - Enter a name or leave empty for a random name",value:V.name,onChange:e=>W("name",e.target.value),className:"w-full",endContent:(0,l.jsx)(r.I,{content:"Leave empty for a randomly generated name",children:(0,l.jsx)(w.A,{className:"w-4 h-4 text-default-400"})})}),(0,l.jsx)(d.T,{isIconOnly:!0,variant:"flat",className:"self-end h-14",onPress:()=>W("name",H()),children:"\uD83C\uDFB2"})]}),(0,l.jsx)("div",{className:"space-y-2",children:(0,l.jsx)(o.P,{label:"Description",placeholder:"Optional - Enter a description for your collection",value:V.description,onChange:e=>W("description",e.target.value),className:"w-full"})})]}),(0,l.jsx)(m.y,{className:"my-4"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"Upload Documents"}),(0,l.jsx)(r.I,{content:"You can upload documents now or add them later",children:(0,l.jsx)(w.A,{className:"w-4 h-4 text-default-400"})})]}),(0,l.jsx)(h.R,{variant:"flat",color:"primary",size:"sm",className:"capitalize",children:"Optional"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)(d.T,{variant:"flat",color:"primary",className:"w-full",onPress:async()=>{let s=V.name;V.name.trim()||(s=H(),B(e=>(0,i._)((0,n._)({},e),{name:s})),R("Using generated name: ".concat(s)));try{D(!0),console.log("Submitting...");let a={name:s,description:V.description,text_processing:(0,n._)({chunk_token_size:0===t.length?1e3:"automatic"===V.chunkingMode?1e3:V.chunk_token_size,min_chunk_size_chars:0===t.length?100:"automatic"===V.chunkingMode?100:V.min_chunk_size_chars,min_chunk_length_to_embed:10,embeddings_batch_size:32,max_num_chunks:1e3,use_vision_model:0!==t.length&&V.use_vision_model},V.use_vision_model&&V.vision_model&&{vision_model:V.vision_model,vision_provider:V.vision_provider})},l=await (0,S.oZ)(a,t.length>0?t:void 0);U({type:"success",message:"Document collection created successfully"}),e.push("/rag/collections/".concat(l.id))}catch(e){console.error("Error creating collection:",e),U({type:"danger",message:"Error creating document collection"})}finally{D(!1)}},startContent:(0,l.jsx)(C.A,{className:"w-4 h-4"}),children:"Create Empty Collection"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(m.y,{className:"flex-1"}),(0,l.jsx)("span",{className:"text-default-400",children:"or"}),(0,l.jsx)(m.y,{className:"flex-1"})]}),(0,l.jsx)(T.A,{onFilesChange:q})]})]})]})});case 1:return(0,l.jsxs)("div",{className:"flex flex-col gap-8",children:[K(),(0,l.jsx)(u.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Text Processing"}),(0,l.jsx)(r.I,{content:"Configure how your documents will be processed and split into chunks",children:(0,l.jsx)(w.A,{className:"w-4 h-4 text-default-400"})})]}),(0,l.jsxs)(x.U,{value:V.chunkingMode,onValueChange:e=>W("chunkingMode",e),orientation:"horizontal",classNames:{wrapper:"gap-4"},children:[(0,l.jsx)(p.O,{value:"automatic",description:"Let the system determine optimal chunk size and overlap",children:"Automatic"}),(0,l.jsx)(p.O,{value:"manual",description:"Manually configure chunk size and overlap",children:"Manual"})]}),"manual"===V.chunkingMode&&(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-6 p-4 bg-default-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"Chunk Size"}),(0,l.jsx)(r.I,{content:"Number of tokens per chunk. Larger chunks provide more context but may be less precise",children:(0,l.jsx)(w.A,{className:"w-4 h-4 text-default-400"})})]}),(0,l.jsxs)(h.R,{size:"sm",variant:"flat",children:[V.chunk_token_size," tokens"]})]}),(0,l.jsx)(j.Q,{size:"sm",step:10,minValue:100,maxValue:2e3,value:V.chunk_token_size,onChange:Y,classNames:{base:"max-w-full",track:"bg-default-500/30",filler:"bg-primary",thumb:"transition-all shadow-lg"},marks:[{value:500,label:"500"},{value:1e3,label:"1000"},{value:1500,label:"1500"}],"aria-label":"Chunk Size"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"Chunk Overlap"}),(0,l.jsx)(r.I,{content:"Number of overlapping tokens between chunks to maintain context",children:(0,l.jsx)(w.A,{className:"w-4 h-4 text-default-400"})})]}),(0,l.jsxs)(h.R,{size:"sm",variant:"flat",children:[V.min_chunk_size_chars," tokens"]})]}),(0,l.jsx)(j.Q,{size:"sm",step:10,minValue:0,maxValue:500,value:V.min_chunk_size_chars,onChange:G,classNames:{base:"max-w-full",track:"bg-default-500/30",filler:"bg-primary",thumb:"transition-all shadow-lg"},marks:[{value:100,label:"100"},{value:200,label:"200"},{value:300,label:"300"}],"aria-label":"Chunk Overlap"})]})]})]})})]});case 2:return(0,l.jsx)("div",{className:"flex flex-col gap-8",children:(0,l.jsx)(u.Z,{className:"p-6",children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Chunk Templates"}),(0,l.jsx)(r.I,{content:"Configure how your chunks will be formatted and what metadata to extract",children:(0,l.jsx)(w.A,{className:"w-4 h-4 text-default-400"})})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(v.Z,{isSelected:V.template.enabled,onValueChange:e=>B(s=>(0,i._)((0,n._)({},s),{template:(0,i._)((0,n._)({},s.template),{enabled:e})})),size:"sm",children:"Enable Custom Templates"}),(0,l.jsx)(r.I,{content:"Use templates to customize how chunks are formatted and add metadata",children:(0,l.jsx)(w.A,{className:"w-4 h-4 text-default-400"})})]}),V.template.enabled&&(0,l.jsx)(Z,{template:V.template,onTemplateChange:e=>B(s=>(0,i._)((0,n._)({},s),{template:(0,i._)((0,n._)({},e),{metadata_template:(0,n._)({type:"text_chunk"},e.metadata_template)})})),chunkingConfig:{chunk_token_size:"automatic"===V.chunkingMode?1e3:V.chunk_token_size,min_chunk_size_chars:"automatic"===V.chunkingMode?100:V.min_chunk_size_chars,min_chunk_length_to_embed:10},files:t})]})]})})});case 3:return(0,l.jsx)(u.Z,{children:(0,l.jsxs)(f.U,{className:"gap-4",children:[(0,l.jsx)("div",{className:"text-lg font-semibold",children:"Review Configuration"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:"Files to Upload:"}),t.map(e=>(0,l.jsx)("div",{className:"text-default-500",children:e.name},e.name))]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:"Collection Name:"}),(0,l.jsx)("div",{className:"text-default-500",children:V.name})]}),V.description&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:"Description:"}),(0,l.jsx)("div",{className:"text-default-500",children:V.description})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:"Chunk Token Size:"}),(0,l.jsx)("div",{className:"text-default-500",children:"automatic"===V.chunkingMode?"Automatic":"".concat(V.chunk_token_size," tokens")})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:"Min Chunk Size:"}),(0,l.jsx)("div",{className:"text-default-500",children:"automatic"===V.chunkingMode?"Automatic":"".concat(V.min_chunk_size_chars," tokens")})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:"Vision Model:"}),(0,l.jsxs)("div",{className:"text-default-500",children:[V.use_vision_model?"Enabled":"Disabled",V.use_vision_model&&V.vision_model&&(0,l.jsxs)(l.Fragment,{children:[" ","(",V.vision_model," via ",V.vision_provider,")"]})]})]}),V.template.enabled&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium",children:"Chunk Template:"}),(0,l.jsxs)("div",{className:"text-default-500",children:[(0,l.jsx)("pre",{className:"bg-default-100 p-2 rounded-lg mt-2 text-xs",children:V.template.template}),(0,l.jsxs)("div",{className:"mt-2",children:[(0,l.jsx)("span",{className:"font-medium",children:"Metadata Fields: "}),Object.keys(V.template.metadata_template).map(e=>(0,l.jsx)(h.R,{size:"sm",variant:"flat",className:"ml-2",children:e},e))]})]})]})]})]})});default:return null}})(s),(0,l.jsx)(m.y,{className:"my-4"}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)(d.T,{color:"danger",variant:"light",onPress:()=>e.back(),className:"font-medium hover:bg-danger/10",children:"Cancel"}),(0,l.jsxs)("div",{className:"flex gap-3",children:[s>0&&(0,l.jsx)(d.T,{variant:"bordered",onPress:()=>{2===s&&0===t.length?a(0):a(e=>e-1)},className:"font-medium",startContent:(0,l.jsx)(z.A,{size:18}),isDisabled:E,children:"Back"}),(0,l.jsx)(d.T,{color:"primary",onPress:s===F.length-1?Q:()=>{if(s<F.length-1){if(0===s&&!V.name.trim()){let e=H();B(s=>(0,i._)((0,n._)({},s),{name:e})),R("Using generated name: ".concat(e))}0===s&&0===t.length?a(2):a(e=>e+1)}else Q()},className:"font-medium",endContent:s!==F.length-1&&(0,l.jsx)(A.A,{size:18}),isLoading:E,isDisabled:1===s&&!V.name||s===F.length-1&&E,children:s===F.length-1?"Create Collection":"Next"})]})]})]})})})]})})};function q(){return(0,l.jsxs)("div",{className:"App relative",children:[(0,l.jsx)(t.A,{activePage:"rag"}),(0,l.jsx)(B,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[5352,6361,2377,5892,9235,9177,9217,374,6139,3010,636,6593,8792],()=>s(10600)),_N_E=e.O()}]);