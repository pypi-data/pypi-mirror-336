(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9724],{46577:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>ee});var s=t(37876),a=t(14232),l=t(3576),n=t(62701),o=t(68625),i=t(21505),c=t(22196),d=t(56779),u=t(47473),m=t(14107),x=t(30879),h=t(8320),f=t(30397),p=t(27955),w=t(23331),g=t(24094),j=t(7305),b=t(38591),y=(e,r)=>(0,b.Gv)(e)?e instanceof Array?[...e]:e[r]:e,v=t(37090),N=t(64553),k=t(12503),C=t(1958),E=t(84310),S=t(14756),I=t(73835),_=t(98594),P=t(38892),D=t(26257),O=t(77328),T=t.n(O),R=t(89099),A=t(55179),L=t(31777),z=t(19607),W=t(7700),F=t(33810),q=t(33949),V=t(80798);function J(e){let{title:r,description:t,features:a,onUse:l}=e;return(0,s.jsxs)(F.Z,{className:"relative w-full",children:[(0,s.jsxs)(q.U,{className:"relative min-h-[180px] bg-gradient-to-br from-content1 to-default-100/50 p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:r}),(0,s.jsx)("p",{className:"text-default-500 text-sm mb-3",children:t}),a&&a.length>0&&(0,s.jsx)("ul",{className:"list-disc pl-5 mb-2",children:a.map((e,r)=>(0,s.jsxs)("li",{className:"flex items-center text-sm",children:[(0,s.jsx)(_.In,{icon:"solar:check-circle-linear",className:"text-green-500 mr-2"}),e]},r))})]}),(0,s.jsx)(V.Z,{className:"border-t-1 border-default-100 justify-end py-2 px-4",children:(0,s.jsx)(c.T,{color:"primary",variant:"flat",onPress:l,startContent:(0,s.jsx)(_.In,{icon:"lucide:copy",width:16}),children:"Use Template"})})]})}var B=t(41758),U=t(41260),H=t(33566),K=t(9941),M=t(95035);let Z=e=>{let{isOpen:r,onClose:t,workflow:o,onSubmit:i}=e,[d,u]=(0,a.useState)("APPROVE"),[m,x]=(0,a.useState)({}),[h,f]=(0,a.useState)("");a.useEffect(()=>{var e;(null==o?void 0:null===(e=o.current_pause)||void 0===e?void 0:e.input_data)&&x(o.current_pause.input_data)},[o]),(0,a.useEffect)(()=>{if(!r)return;let e=e=>{"Enter"===e.key&&(e.ctrlKey||e.metaKey)?p():"Escape"===e.key&&t()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[r,d,m,h]);let p=()=>{i(d,m,h),t()},w=(e,r)=>{let t=m[e]||"",a=r=>{x(t=>(0,n._)((0,l._)({},t),{[e]:r}))};switch(r.toLowerCase()){case"string":default:return(0,s.jsx)(U.r,{label:e,placeholder:"Enter ".concat(e),value:t,onChange:e=>a(e.target.value)},e);case"number":return(0,s.jsx)(U.r,{type:"number",label:e,placeholder:"Enter ".concat(e),value:t,onChange:e=>a(Number(e.target.value))},e);case"boolean":return(0,s.jsxs)(H.d,{label:e,placeholder:"Select ".concat(e),value:t,onChange:e=>a("true"===e.target.value),children:[(0,s.jsx)(K.y,{value:"true",children:"True"},"true"),(0,s.jsx)(K.y,{value:"false",children:"False"},"false")]},e)}};return(0,s.jsx)(v.Y,{size:"3xl",isOpen:r,onClose:t,children:(0,s.jsxs)(N.g,{children:[(0,s.jsxs)(k.c,{className:"flex flex-col gap-1",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Human Input Required"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-default-500",children:[(0,s.jsx)(j.R,{size:"sm",color:"warning",children:"Paused"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["Workflow: ","name"in o.workflow?o.workflow.name:"Unnamed"]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["Run ID: ",o.run.id]})]})]}),(0,s.jsx)(C.h,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"bg-default-100 p-4 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(_.In,{icon:"lucide:alert-circle",className:"w-5 h-5 text-warning mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium",children:"Message"}),(0,s.jsx)("p",{className:"text-sm text-default-600",children:o.current_pause.pause_message}),(0,s.jsxs)("p",{className:"text-xs text-default-400 mt-1",children:["Paused ",(0,P.m)(new Date(o.current_pause.pause_time))," ago"]})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Action"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.T,{color:"APPROVE"===d?"success":"default",variant:"APPROVE"===d?"solid":"bordered",onPress:()=>u("APPROVE"),children:"Approve"}),(0,s.jsx)(c.T,{color:"DECLINE"===d?"danger":"default",variant:"DECLINE"===d?"solid":"bordered",onPress:()=>u("DECLINE"),children:"Decline"}),(0,s.jsx)(c.T,{color:"OVERRIDE"===d?"warning":"default",variant:"OVERRIDE"===d?"solid":"bordered",onPress:()=>u("OVERRIDE"),children:"Override"})]})]}),"DECLINE"!==d&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Required Inputs"}),(0,s.jsx)("div",{className:"space-y-3",children:Object.entries((()=>{var e;let r=("definition"in o.workflow?o.workflow.definition:o.workflow).nodes.find(e=>e.id===o.current_pause.node_id);return(null==r?void 0:null===(e=r.config)||void 0===e?void 0:e.input_schema)||{}})()).map(e=>{let[r,t]=e;return w(r,t)})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"Comments"}),(0,s.jsx)(M.P,{placeholder:"Add any comments about your decision...",value:h,onChange:e=>f(e.target.value)})]})]})}),(0,s.jsxs)(I.q,{children:[(0,s.jsx)(c.T,{size:"lg",variant:"bordered",onPress:t,endContent:(0,s.jsx)("span",{className:"text-xs opacity-70",children:"ESC"}),children:"Cancel"}),(0,s.jsx)(c.T,{size:"lg",color:"primary",onPress:p,endContent:(0,s.jsx)("span",{className:"text-xs opacity-70",children:"⌘+↵"}),children:"Submit Decision"})]})]})})};var G=t(62552);function X(e){let{isOpen:r,onClose:t}=e,l=(0,L.wA)(),n=()=>{l((0,G.L)()),t()};return(0,a.useEffect)(()=>{if(!r)return;let e=e=>{("Enter"===e.key||"Escape"===e.key)&&n()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[r]),(0,s.jsx)(v.Y,{isOpen:r,onClose:n,children:(0,s.jsxs)(N.g,{children:[(0,s.jsx)(k.c,{children:"Welcome to PySpur! \uD83D\uDC4B"}),(0,s.jsxs)(C.h,{children:[(0,s.jsx)("p",{children:"PySpur is your platform for building and managing AI workflows."}),(0,s.jsx)("p",{children:"Get started by:"}),(0,s.jsxs)("ul",{className:"list-disc pl-6",children:[(0,s.jsx)("li",{children:"Creating a new Spur from scratch"}),(0,s.jsx)("li",{children:"Using one of our templates"}),(0,s.jsx)("li",{children:"Importing an existing workflow"})]})]}),(0,s.jsx)(I.q,{children:(0,s.jsx)(c.T,{size:"lg",color:"primary",onPress:n,endContent:(0,s.jsx)("span",{className:"text-xs opacity-70",children:"↵"}),children:"Get Started"})})]})})}let Y=()=>((0,a.useEffect)(()=>{let e=document.querySelector('script[src="https://assets.calendly.com/assets/external/widget.js"]'),r=null;e||((r=document.createElement("script")).src="https://assets.calendly.com/assets/external/widget.js",r.async=!0,document.body.appendChild(r));let t=()=>{window.Calendly&&window.Calendly.initBadgeWidget({url:"https://calendly.com/d/cnf9-57m-bv3/pyspur-founders",text:"Talk to the founders",color:"#1a1a1a",textColor:"#ffffff"})};return e?t():r&&(r.onload=t),()=>{document.querySelectorAll(".calendly-badge-widget").forEach(e=>e.remove()),document.querySelectorAll(".calendly-inline-widget").forEach(e=>e.remove()),document.querySelectorAll(".calendly-overlay").forEach(e=>e.remove()),r&&document.body.contains(r)&&document.body.removeChild(r),window.Calendly&&delete window.Calendly}},[]),null),Q=()=>{let e=(0,R.useRouter)(),[r,t]=(0,a.useState)([]),[b,O]=(0,a.useState)([]),[F,q]=(0,a.useState)([]),[V,U]=(0,a.useState)(!0),[H,K]=(0,a.useState)(!1),M=(0,L.d4)(e=>e.userPreferences.hasSeenWelcome),[G,Q]=(0,a.useState)({}),[$,ee]=(0,a.useState)(!0),[er,et]=(0,a.useState)(null),[es,ea]=(0,a.useState)(1),[el,en]=(0,a.useState)(!0),[eo,ei]=(0,a.useState)(!1),[ec,ed]=(0,a.useState)([]),[eu,em]=(0,a.useState)(null),[ex,eh]=(0,a.useState)(!1),[ef,ep]=(0,a.useState)(!1),[ew,eg]=(0,a.useState)(null),[ej,eb]=(0,a.useState)("default"),[ey,ev]=(0,a.useState)(!1),{isOpen:eN,onOpen:ek,onClose:eC}=(0,o.j)(),[eE,eS]=(0,a.useState)(z.Z.WORKFLOW),eI=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";eg(e),eb(r),ev(!0),setTimeout(()=>{ev(!1)},5e3)};(0,a.useEffect)(()=>{(async()=>{ee(!0);try{let e=await (0,W.bg)(1),r=await Promise.all(e.map(e=>eP(e.id))).then(r=>{let t={};return e.forEach((e,s)=>{t[e.id]=r[s]||[]}),t}),s=[...e].sort((e,r)=>new Date(r.updated_at).getTime()-new Date(e.updated_at).getTime());t(s),K(!M&&0===e.length),Q(r),en(10===e.length)}catch(e){console.error("Error fetching workflows:",e)}finally{ee(!1)}})()},[M]),(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,W.yv)();O(e)}catch(e){console.error("Error fetching templates:",e)}})()},[]),(0,a.useEffect)(()=>{(async()=>{try{U(!0);let e=await (0,W.d5)(),r=[];for(let t of e){let e=await (0,W.CG)(t);r.push({name:t,value:e.value})}q(r)}catch(e){console.error("Error fetching API keys:",e)}finally{U(!1)}})()},[]),(0,a.useEffect)(()=>{(async()=>{ep(!0);try{let e=await (0,W.v8)();ed(e)}catch(e){console.error("Error fetching paused workflows:",e)}finally{ep(!1)}})()},[]);let e_=e=>new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),eP=async e=>{try{return(await (0,W.ML)(e)).slice(0,5)}catch(e){console.error("Error fetching workflow runs:",e)}},eD=r=>{e.push({pathname:"/workflows/".concat(r.id)})},eO=async()=>{ek()},eT=async()=>{try{let r="New ".concat(eE===z.Z.CHATBOT?"Chatbot":"Workflow"," ").concat(new Date().toLocaleString()),t=await (0,W.mw)({name:r,description:"",definition:{nodes:[],links:[],test_inputs:[],spur_type:eE}});eC(),e.push("/workflows/".concat(t.id))}catch(e){console.error("Error creating new workflow:",e),eI("Failed to create new spur","danger")}},eR=async()=>{try{let r=document.createElement("input");r.type="file",r.accept="application/json",r.onchange=async r=>{var t;let s=r.target,a=null===(t=s.files)||void 0===t?void 0:t[0];if(!a){alert("No file selected. Please try again.");return}let l=new FileReader;l.onload=async r=>{try{var t;let s=null===(t=r.target)||void 0===t?void 0:t.result;if("string"!=typeof s)return;let a=JSON.parse(s),l={name:"Imported Spur ".concat(new Date().toLocaleString()),description:a.description,definition:a.definition},n=await (0,W.mw)(l);e.push("/workflows/".concat(n.id))}catch(e){console.error("Error processing the JSON file:",e),alert("Failed to import workflow. Please ensure the file is a valid JSON.")}},l.readAsText(a)},r.click()}catch(e){console.error("Error importing workflow:",e)}},eA=async r=>{try{let t=await (0,W.B)(r);e.push("/workflows/".concat(t.id))}catch(e){console.error("Error using template:",e)}},eL=async e=>{if(window.confirm('Are you sure you want to delete workflow "'.concat(e.name,'"?')))try{await (0,W.L6)(e.id),t(r=>r.filter(r=>r.id!==e.id))}catch(e){console.error("Error deleting workflow:",e),alert("Failed to delete workflow. Please try again.")}},ez=async e=>{try{let r=await (0,W.Fj)(e.id);t(e=>[r,...e]),et(r.id),setTimeout(()=>{et(null)},2e3)}catch(e){console.error("Error duplicating workflow:",e),alert("Failed to duplicate workflow. Please try again.")}},eW=e=>{window.open("/trace/".concat(e),"_blank")},eF=async()=>{ei(!0);try{let e=es+1,r=await (0,W.bg)(e);if(r.length>0){let s=await Promise.all(r.map(e=>eP(e.id))).then(e=>{let t={};return r.forEach((r,s)=>{t[r.id]=e[s]||[]}),t});t(e=>[...e,...r].sort((e,r)=>new Date(r.updated_at).getTime()-new Date(e.updated_at).getTime())),Q(e=>(0,l._)({},e,s)),ea(e),en(10===r.length)}else en(!1)}catch(e){console.error("Error loading more workflows:",e)}finally{ei(!1)}},eq=async(e,r,t)=>{if(eu)try{console.log("Selected workflow:",eu),console.log("Input data:",r);let s=eu.run.id,a=eu.run.workflow_id;if(console.log("Workflow ID:",a),console.log("Run ID:",s),s)try{await (0,W.ir)(s,{inputs:r,user_id:"current-user",action:e,comments:t}),eI("Workflow resumed with action: ".concat(e),"success"),eh(!1),em(null)}catch(e){console.error("Error resuming workflow:",e),eI("Failed to resume workflow","danger")}else console.error("Cannot resume workflow: Run ID is missing or invalid"),eI("Cannot resume workflow: missing run ID","danger");let l=await (0,W.v8)();ed(l)}catch(e){console.error("Error submitting human input:",e),eI("Error submitting human input","danger")}},eV=async(e,r)=>{try{let t=e.run.id;if(t){let e={inputs:{},user_id:"current-user",action:r,comments:"Quick ".concat(r.toLowerCase()," from dashboard")};await (0,W.ir)(t,e),eI("Workflow ".concat(r.toLowerCase(),"d successfully"),"success");let s=await (0,W.v8)();ed(s)}else console.error("Cannot perform action: Run ID is missing or invalid"),eI("Cannot perform action: missing run ID","danger")}catch(e){console.error("Error performing ".concat(r," action:"),e),eI("Failed to ".concat(r.toLowerCase()," workflow"),"danger")}},eJ=async e=>{try{let r=e.run.id;if(r){if(window.confirm("Are you sure you want to cancel this workflow? This action cannot be undone.")){await (0,W.mF)(r),eI("Workflow canceled successfully","success");let e=await (0,W.v8)();ed(e)}}else console.error("Cannot cancel workflow: Run ID is missing or invalid"),eI("Cannot cancel workflow: missing run ID","danger")}catch(e){console.error("Error canceling workflow:",e),eI("Failed to cancel workflow","danger")}},eB=(0,a.useCallback)(r=>{let t=r[0];if(!t)return;let s=new FileReader;s.onload=async r=>{try{var t;let s=null===(t=r.target)||void 0===t?void 0:t.result;if("string"!=typeof s)return;let a=JSON.parse(s),l={name:"Imported Spur ".concat(new Date().toLocaleString()),description:a.description,definition:a.definition},n=await (0,W.mw)(l);e.push("/workflows/".concat(n.id))}catch(e){console.error("Error processing dropped JSON file:",e),alert("Failed to import workflow. Please ensure the file is a valid JSON.")}},s.readAsText(t)},[e]),{getRootProps:eU,getInputProps:eH,isDragActive:eK}=(0,A.VB)({onDrop:eB,accept:{"application/json":[".json"]},noClick:!0,noKeyboard:!0});return(0,s.jsxs)("div",(0,n._)((0,l._)({},eU()),{className:"relative flex flex-col gap-2 max-w-7xl w-full mx-auto pt-2 px-6",children:[(0,s.jsx)("input",(0,l._)({},eH())),eK&&(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-primary/10 backdrop-blur-sm border-2 border-dashed border-primary rounded-lg z-50 transition-all duration-300 animate-in fade-in",children:[(0,s.jsx)(D.A,{className:"w-16 h-16 text-primary mb-4"}),(0,s.jsx)("p",{className:"text-primary text-xl font-bold",children:"Drop workflow JSON file here"}),(0,s.jsx)("p",{className:"text-primary/80 text-sm mt-2",children:"Release to import your workflow"})]}),(0,s.jsx)(T(),{children:(0,s.jsx)("link",{href:"https://assets.calendly.com/assets/external/widget.css",rel:"stylesheet"})}),ey&&ew&&(0,s.jsx)(i.B,{className:"mb-4",variant:"solid",color:ej,onClose:()=>ev(!1),children:ew}),(0,s.jsx)(Y,{}),(0,s.jsx)(X,{isOpen:H,onClose:()=>K(!1)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("header",{className:"mb-6 flex w-full items-center flex-col gap-2",children:[!V&&(0===F.length||F.every(e=>!e.value||""===e.value))&&(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(i.B,{variant:"bordered",className:"mb-2",startContent:(0,s.jsx)(_.In,{icon:"lucide:alert-triangle",width:16}),children:"No API keys have been set. Please configure your API keys in the settings to use the application."})}),(0,s.jsxs)("div",{className:"flex w-full items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col max-w-fit",id:"dashboard-title",children:[(0,s.jsx)("h1",{className:"text-lg font-bold text-default-900 lg:text-2xl",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-small text-default-400 lg:text-medium",children:"Manage your spurs"})]}),(0,s.jsxs)("div",{className:"ml-auto flex items-center gap-2",id:"new-workflow-entries",children:[(0,s.jsx)(c.T,{className:"bg-foreground text-background dark:bg-foreground/90 dark:text-background/90",startContent:(0,s.jsx)(_.In,{className:"flex-none text-background/60",icon:"lucide:plus",width:16}),onPress:eO,children:"New Spur"}),(0,s.jsx)(c.T,{className:"bg-foreground text-background dark:bg-foreground/90 dark:text-background/90",startContent:(0,s.jsx)(_.In,{className:"flex-none text-background/60",icon:"lucide:upload",width:16}),onPress:eR,children:"Import Spur (or drop JSON file)"})]})]})]}),(0,s.jsxs)(d.D,{defaultExpandedKeys:new Set(["workflows","templates","human-tasks"]),selectionMode:"multiple",children:[(0,s.jsx)(u.R,{"aria-label":"Recent Spurs",title:(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Recent Spurs"}),children:$?(0,s.jsx)("div",{className:"flex justify-center p-4",children:(0,s.jsx)(m.o,{size:"lg"})}):r.length>0?(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)(x.j,{"aria-label":"Saved Workflows",isHeaderSticky:!0,children:[(0,s.jsx)(h.X,{columns:[{key:"id",label:"ID"},{key:"name",label:"Name"},{key:"spur_type",label:"Type"},{key:"action",label:"Action"},{key:"recentRuns",label:"Recent Runs"},{key:"updated_at",label:"Last Modified"}],children:e=>(0,s.jsx)(f.e,{children:e.label},e.key)}),(0,s.jsx)(p.E,{items:r,children:e=>(0,s.jsx)(w.s,{className:"transition-colors duration-200 hover:bg-primary-50 dark:hover:bg-primary-800/10 ".concat(er===e.id?"bg-primary-50 dark:bg-primary-800/10":""),children:r=>{var t,a;return(0,s.jsx)(g.w,{children:"action"===r?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(_.In,{icon:"solar:pen-bold",className:"cursor-pointer text-default-400",height:18,width:18,onClick:()=>eD(e),"aria-label":"Edit"}),(0,s.jsx)(_.In,{icon:"solar:copy-bold",className:"cursor-pointer text-default-400",height:18,width:18,onClick:()=>ez(e),"aria-label":"Duplicate"}),(0,s.jsx)(_.In,{icon:"solar:trash-bin-trash-bold",className:"cursor-pointer text-default-400",height:18,width:18,onClick:()=>eL(e),"aria-label":"Delete"})]}):"recentRuns"===r?(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[null===(t=G[e.id])||void 0===t?void 0:t.map(e=>(0,s.jsx)(j.R,{size:"sm",variant:"flat",className:"cursor-pointer",onClick:()=>eW(e.id),children:e.id},e.id)),(null===(a=G[e.id])||void 0===a?void 0:a.length)>=5&&(0,s.jsx)(j.R,{size:"sm",variant:"flat",className:"cursor-pointer",onClick:()=>window.open("/runs/".concat(e.id),"_blank"),startContent:(0,s.jsx)(_.In,{icon:"solar:playlist-linear",width:14}),children:"See All"})]}):"name"===r?(0,s.jsx)(j.R,{size:"sm",variant:"flat",className:"cursor-pointer",onClick:()=>eD(e),children:e.name}):"spur_type"===r?(0,s.jsx)(B.A,{spurType:e.definition.spur_type}):"updated_at"===r?(0,s.jsx)("span",{className:"text-default-500",children:e_(y(e,r))}):y(e,r)})}},e.id)})]}),el&&(0,s.jsx)("div",{className:"flex justify-center mt-4",children:(0,s.jsx)(c.T,{variant:"flat",onPress:eF,isLoading:eo,startContent:!eo&&(0,s.jsx)(_.In,{icon:"lucide:plus",width:16}),children:eo?"Loading...":"Load More"})})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 my-8 bg-background rounded-xl border-border border shadow-sm",children:[(0,s.jsxs)("div",{className:"max-w-2xl text-center mb-12",children:[(0,s.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-foreground flex items-center justify-center gap-2",children:"Welcome to PySpur!"}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground",children:"Looks like you haven't created any spurs yet - let's get you started on your journey!"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-4xl",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center p-6 bg-background hover:bg-accent/5 rounded-xl border-border border transition-all hover:shadow-md cursor-pointer",onClick:eO,children:[(0,s.jsx)("div",{className:"rounded-full bg-background p-4 mb-4 border border-border",children:(0,s.jsx)(_.In,{icon:"lucide:plus",className:"w-8 h-8 text-foreground"})}),(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:"Create New"}),(0,s.jsx)("p",{className:"text-medium text-center text-muted-foreground",children:'Start fresh with your own creation using the "New Spur" button above'})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center p-6 bg-background hover:bg-accent/5 rounded-xl border-border border transition-all hover:shadow-md cursor-pointer",onClick:eR,children:[(0,s.jsx)("div",{className:"rounded-full bg-background p-4 mb-4 border border-border",children:(0,s.jsx)(_.In,{icon:"lucide:upload",className:"w-8 h-8 text-foreground"})}),(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:"Import Existing"}),(0,s.jsx)("p",{className:"text-medium text-center text-muted-foreground",children:'Have a spur saved as JSON? Use the "Import Spur" button to bring it in'})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center p-6 bg-background hover:bg-accent/5 rounded-xl border-border border transition-all hover:shadow-md cursor-pointer",onClick:()=>{let e=document.querySelector('[aria-label="Spur Templates"]');null==e||e.scrollIntoView({behavior:"smooth"})},children:[(0,s.jsx)("div",{className:"rounded-full bg-background p-4 mb-4 border border-border",children:(0,s.jsx)(_.In,{icon:"lucide:layout-grid",className:"w-8 h-8 text-foreground"})}),(0,s.jsx)("h4",{className:"text-lg font-medium mb-3 text-foreground",children:"Use Template"}),(0,s.jsx)("p",{className:"text-medium text-center text-muted-foreground",children:"Get started quickly with our ready-to-go templates in the section below"})]})]})]})},"workflows"),(0,s.jsx)(u.R,{"aria-label":"Human Tasks",title:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold",children:"Spurs Awaiting Human Approval"}),ec.length>0&&(0,s.jsx)(j.R,{color:"warning",variant:"flat",size:"sm",children:ec.length})]}),children:ef?(0,s.jsx)("div",{className:"flex justify-center p-4",children:(0,s.jsx)(m.o,{size:"lg"})}):ec.length>0?(0,s.jsx)("div",{className:"space-y-4",children:ec.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-content2 rounded-lg border border-border",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h4",{className:"font-medium",children:e.workflow.name}),(0,s.jsx)(j.R,{size:"sm",color:"warning",children:"Paused"})]}),(0,s.jsx)("p",{className:"text-sm text-default-500 mb-2",children:e.current_pause.pause_message}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-xs text-default-400",children:[(0,s.jsxs)("span",{children:["Run ID: ",e.run.id]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["Paused"," ",(0,P.m)(new Date(e.current_pause.pause_time),{addSuffix:!0})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(c.T,{color:"success",variant:"flat",onPress:()=>eV(e,"APPROVE"),startContent:(0,s.jsx)(_.In,{icon:"lucide:check",width:16}),isIconOnly:!0,size:"sm","aria-label":"Approve"}),(0,s.jsx)(c.T,{color:"danger",variant:"flat",onPress:()=>eV(e,"DECLINE"),startContent:(0,s.jsx)(_.In,{icon:"lucide:x",width:16}),isIconOnly:!0,size:"sm","aria-label":"Decline"}),(0,s.jsx)(c.T,{color:"primary",variant:"bordered",onPress:()=>{em(e),eh(!0)},startContent:(0,s.jsx)(_.In,{icon:"lucide:more-horizontal",width:16}),isIconOnly:!0,size:"sm","aria-label":"Details"}),(0,s.jsx)(c.T,{color:"default",variant:"light",onPress:()=>eJ(e),startContent:(0,s.jsx)(_.In,{icon:"lucide:trash-2",width:16}),isIconOnly:!0,size:"sm","aria-label":"Cancel Workflow"})]})]},e.run.id))}):(0,s.jsx)("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No tasks currently requiring human approval."})})},"human-tasks"),(0,s.jsx)(u.R,{"aria-label":"Spur Templates",title:(0,s.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Spur Templates"}),children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-1 px-1 mb-8",children:b.map(e=>(0,s.jsx)(J,{title:e.name,description:e.description,features:e.features,onUse:()=>eA(e)},e.file_name))})},"templates")]})]}),eu&&(0,s.jsx)(Z,{isOpen:ex,onClose:()=>{eh(!1),em(null)},workflow:eu,onSubmit:eq}),(0,s.jsx)(v.Y,{isOpen:eN,onClose:eC,children:(0,s.jsxs)(N.g,{children:[(0,s.jsx)(k.c,{className:"flex flex-col gap-1",children:"Create New Spur"}),(0,s.jsx)(C.h,{children:(0,s.jsxs)(E.U,{label:"Select the type of spur you want to create",value:eE,onChange:e=>eS(e.target.value),children:[(0,s.jsx)(S.O,{value:z.Z.WORKFLOW,description:"Create a standard workflow with nodes and edges",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(_.In,{icon:"lucide:workflow",width:20}),(0,s.jsx)("span",{children:"Workflow"})]})}),(0,s.jsx)(S.O,{value:z.Z.CHATBOT,description:"Create a chatbot with session management and conversational I/O",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(_.In,{icon:"lucide:message-square",width:20}),(0,s.jsx)("span",{children:"Chatbot"})]})})]})}),(0,s.jsxs)(I.q,{children:[(0,s.jsx)(c.T,{color:"danger",variant:"light",onPress:eC,children:"Cancel"}),(0,s.jsx)(c.T,{color:"primary",onPress:eT,children:"Create"})]})]})})]}))};var $=t(93010);let ee=()=>(0,s.jsxs)("div",{className:"App relative",children:[(0,s.jsx)($.A,{activePage:"dashboard"}),(0,s.jsx)(Q,{})]})},67580:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return t(46577)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[5352,6361,2377,5892,9235,9177,8892,3010,636,6593,8792],()=>r(67580)),_N_E=e.O()}]);