{% extends "base.html" %}

{% block content %}

<body>
  <div class="div-center">
    <div class="card card-index" id="indexCardMain">
      <div class="card-header" id="indexCardHeader">Welcome!</div>
      <div class="card-body" id="indexCardBody">
        This is the <b>NeuroDevComp Babylab database</b>. It provides an interface with the <b>REDCap database</b> to
        consult participant and appointment information conveniently. This is a work in progress, feel free to
        report issues and provide feed-back (<a href=" mailto:gonzalo.garcia@sjd.es">gonzalo.garcia@sjd.es</a>).
        <img src="{{ url_for('static', filename='img/ndc-logo.svg') }}" id="img-ndc-logo" width="--" height="--"
          alt="NDC logo">
      </div>
    </div>
    {% if not redcap_version %}
    <div class="card card-index" id="indexCardLogin">
      <h4 class="card-header">Log in</h4>
      <div class="card-body">
        <p>Please, provide your API token to access the database:</p>
        <form class="form" method="post" action='{{ url_for("index") }}'>
          <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text" id="token-addon">API Token</span>
            </div>
            <input type="password" class="form-control" id="apiToken" name="apiToken" aria-describedby="token-addon"
              placeholder="">
          </div>
          <button type="submit" class="btn btn-primary" onclick="spinner()">Submit</button>
        </form>
      </div>
      <div class="card-footer">You can find yor <b>API token</b> at REDCap.</div>
    </div>
    <div class="loading">
      <div class="loader">
      </div>
    </div>
    <script type="text/javascript">
      function spinner() {
        document.getElementsByClassName("loading")[0].style.display = "block";
      }
    </script>
    {% endif %}
</body>
{% endblock content %}