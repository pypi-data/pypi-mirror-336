"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3949],{77213:function(e,t,a){a.d(t,{Z:function(){return h}});var i=a(24246),s=a(56351),n=a(88038),r=a.n(n),l=a(86677);a(27378);var o=a(25980),d=a(90867),c=a(77830),u=()=>{let e=(0,l.useRouter)();return(0,i.jsx)(s.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(s.xuv,{children:[(0,i.jsxs)(s.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(s.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(s.wpx,{onClick:()=>{e.push(c.fz)},children:"Configure"})]}),(0,i.jsxs)(s.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},h=e=>{let{children:t,title:a,padded:n=!0,mainProps:c}=e,h=(0,o.hz)(),m=(0,l.useRouter)(),v="/privacy-requests"===m.pathname||"/datastore-connection"===m.pathname,x=!(h.flags.privacyRequestsConfiguration&&v),{data:p}=(0,d.JE)(void 0,{skip:x}),{data:f}=(0,d.PW)(void 0,{skip:x}),g=h.flags.privacyRequestsConfiguration&&(!p||!f)&&v;return(0,i.jsxs)(s.kCb,{"data-testid":a,direction:"column",h:"100vh",children:[(0,i.jsxs)(r(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",a]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(s.kCb,{as:"main",direction:"column",py:n?6:0,px:n?10:0,h:n?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[g?(0,i.jsx)(u,{}):null,t]})]})}},33335:function(e,t,a){a.d(t,{E:function(){return i}});let i=e=>e.toLowerCase().replace(/ /g,"_").replace(/[^a-zA-Z0-9._<>-]/g,"")},72774:function(e,t,a){a.d(t,{Z:function(){return r}});var i=a(24246),s=a(56351),n=e=>{let{title:t,description:a,button:n}=e;return(0,i.jsxs)(s.Ugi,{backgroundColor:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",py:4,px:6,"data-testid":"empty-state",children:[(0,i.jsx)(s.iid,{alignSelf:"start",color:"blue.400",mt:.5}),(0,i.jsxs)(s.xuv,{flexGrow:1,children:[(0,i.jsx)(s.xvT,{fontWeight:"bold",fontSize:"sm",mb:1,children:t}),(0,i.jsx)(s.xvT,{fontSize:"sm",color:"gray.600",lineHeight:"5",children:a})]}),n]})},r=()=>(0,i.jsx)(s.xuv,{mb:"6",maxW:"720px","data-testid":"locked-for-GVL-notice",children:(0,i.jsx)(n,{title:"This system is part of the TCF Global Vendor List (GVL)",description:(0,i.jsxs)(i.Fragment,{children:["As a result, the system fields are not editable as they come directly from Fides Compass and the Global Vendor List (GVL). In some cases where the legal basis has been declared to be flexible, you may update the legal basis for particular data uses."," ",(0,i.jsx)(s.rUS,{href:"https://fid.es/tcf_gvl",isExternal:!0,color:"complimentary.500",children:"For more information on the Global Vendor List, click here."})]})})})},36345:function(e,t,a){a.d(t,{Z:function(){return p}});var i=a(24246),s=a(56351),n=a(34090),r=a(27378),l=a(16134),o=a(40324);let d=(0,s.IUT)({displayName:"CompassIcon",viewBox:"0 0 512 512",path:(0,i.jsx)("path",{fill:"currentColor",d:"M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm306.7 69.1L162.4 380.6c-19.4 7.5-38.5-11.6-31-31l55.5-144.3c3.3-8.5 9.9-15.1 18.4-18.4l144.3-55.5c19.4-7.5 38.5 11.6 31 31L325.1 306.7c-3.2 8.5-9.9 15.1-18.4 18.4zM288 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"})});var c=a(91613),u=a(57865);let{Text:h}=s.AntTypography,m=e=>{let{searchText:t,suggestion:a,...s}=e;return t&&a?(0,i.jsxs)(h,{"aria-hidden":!0,style:{pointerEvents:"none",position:"absolute",zIndex:10,top:"var(--ant-line-width)",bottom:"var(--ant-line-width)",left:"var(--ant-padding-sm)",lineHeight:"calc(var(--ant-control-height) - var(--ant-line-width))"},...s,children:[(0,i.jsx)(h,{className:"text-transparent",children:t}),(0,i.jsx)(h,{type:"secondary",children:a.substring(t.length)})]}):null},v="Create new system",x=e=>{let{active:t,disabled:a,onRefreshSuggestions:n}=e,r={bg:t?"complimentary.500":"gray.100"};return(0,i.jsxs)(s.gCW,{children:[(0,i.jsx)(s.LZC,{minHeight:"18px"}),(0,i.jsxs)(s.v2r,{children:[(0,i.jsx)(s.j2t,{as:s.hU,size:"sm",isDisabled:a,icon:(0,i.jsx)(d,{color:t?"white":"gray.700",boxSize:4}),"aria-label":"Update information from Compass","data-testid":"refresh-suggestions-btn",_hover:{_disabled:r},...r}),(0,i.jsx)(s.qyq,{children:(0,i.jsx)(s.sNh,{onClick:n,children:(0,i.jsx)(s.xvT,{fontSize:"xs",lineHeight:4,children:"Reset to Compass defaults"})})})]})]})};var p=e=>{var t,a;let{label:d,isCreate:h,lockedForGVL:p,options:f,isLoading:g,onVendorSelected:b}=e,j=(0,l.C)(u.bN),[y,_,{setValue:C}]=(0,n.U$)("name"),w=!!(_.touched&&_.error),k={...y,value:null!==(t=y.value)&&void 0!==t?t:""},{touched:z,values:E,setTouched:I,setFieldValue:L,validateForm:S}=(0,n.u6)(),[N,R]=(0,r.useState)(!0),T=null!==(a=f.find(e=>e.value===k.value))&&void 0!==a?a:{label:k.value,value:k.value,description:""},W=(e,t)=>!!(null==t?void 0:t.label.toLowerCase().startsWith(e.toLowerCase())),[F,U]=(0,r.useState)(""),q=(0,r.useMemo)(()=>f.filter(e=>W(F,e)),[f,F]),G=(0,r.useMemo)(()=>{let e=f;return h&&F&&(e=[...f,{label:"".concat(v,' "').concat(F,'"...'),value:F}]),e},[h,f,F]),V=!!F&&q.length>0,Z=p&&!h;(0,r.useEffect)(()=>{R(!k.value&&!E.vendor_id)},[k.value,E.vendor_id,R]),(0,r.useEffect)(()=>{S()},[N,S]);let A=async()=>{U(""),L("vendor_id",void 0),await C(""),I({...z,vendor_id:!1,name:!1}),b(void 0)},M=async e=>{if(e){let t=f.some(t=>t.value===e.value)?e.value:void 0;L("vendor_id",t),await C(e.label.startsWith(v)?e.value:e.label),I({...z,vendor_id:!0,name:!0}),b(t)}},P=async e=>{k.onBlur(e),F&&await C(F),I({...z,name:!0})},B=async e=>{q.length>0&&F!==q[0].label?(e.preventDefault(),U(q[0].label),L("vendor_id",q[0].value),await C(q[0].label),b(q[0].value)):(L("vendor_id",void 0),await C(F)),I({...z,name:!0})},H=(0,i.jsx)(s.NIc,{isInvalid:w,isRequired:!0,width:"100%",children:(0,i.jsxs)(s.gCW,{alignItems:"start",position:"relative",width:"100%",children:[(0,i.jsxs)(s.Ugi,{spacing:1,children:[(0,i.jsx)(o.__,{htmlFor:"vendorName",fontSize:"xs",my:0,mr:1,children:d}),(0,i.jsx)(c.Z,{label:"Enter the system name"})]}),(0,i.jsxs)(s.xuv,{width:"100%",className:"relative",children:[(0,i.jsx)(s.WPr,{id:"vendorName",labelInValue:!0,autoFocus:!0,allowClear:!0,options:G,loading:g,filterOption:(e,t)=>W(e,t)||!!(null==t?void 0:t.label.startsWith(v)),optionFilterProp:"label",value:T,placeholder:"Enter system name...",disabled:Z,onChange:M,onSearch:U,onClear:A,onBlur:P,onInputKeyDown:e=>{F&&"Tab"===e.key&&B(e)},status:w?"error":void 0,"data-testid":"vendor-name-select"}),(0,i.jsx)(m,{searchText:F,suggestion:q.length?q[0].label:""})]}),(0,i.jsx)(o.Bc,{isInvalid:w,message:_.error,fieldName:"name"})]})});return(0,i.jsxs)(s.Ugi,{alignItems:"flex-start",width:"full",children:[N?H:(0,i.jsx)(o.j0,{autoFocus:!0,id:"name",name:"name",label:"System name",tooltip:"Enter the system name",variant:"stacked",disabled:Z,isRequired:!0,inputRightElement:Z?null:(0,i.jsx)(s.PZ7,{onClick:A,size:"sm","data-testid":"clear-btn"})}),(0,i.jsx)(x,{active:!!E.vendor_id||V,disabled:!E.vendor_id||"showing"===j,onRefreshSuggestions:()=>b(E.vendor_id)})]})}},69525:function(e,t,a){a.d(t,{U:function(){return i}});let i=e=>{var t;let a=e.data_categories.flatMap(e=>e.split(","));return{data_use:e.data_use,data_categories:a,features:e.features,legal_basis_for_processing:e.legal_basis_for_processing,flexible_legal_basis_for_processing:e.flexible_legal_basis_for_processing,retention_period:e.retention_period?e.retention_period:"",cookies:null===(t=e.cookies)||void 0===t?void 0:t.map(e=>({name:e.name,domain:e.domain,path:e.path}))}}}}]);