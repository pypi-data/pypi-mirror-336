(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{9387:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations",function(){return t(22406)}])},97181:function(e,n,t){"use strict";t.d(n,{d:function(){return c}});var i=t(24246),r=t(56351),l=t(34090),o=t(27378),a=t(91613),s=t(40324);let c=e=>{let{name:n,label:t,labelProps:c,tooltip:d,isRequired:u,layout:g="inline",...f}=e,[x,m,{setValue:h}]=(0,l.U$)(n),p=!!(m.touched&&m.error),[v,j]=(0,o.useState)("");x.value||"tags"!==f.mode&&"multiple"!==f.mode||(x.value=[]),"tags"===f.mode&&"string"==typeof x.value&&(x.value=[x.value]);let C="tags"===f.mode?(e,n)=>e?e.value!==v||x.value.includes(v)?f.optionRender?f.optionRender(e,n):e.label:'Create "'.concat(v,'"'):void 0:f.optionRender||void 0,y=e=>{j(e),f.onSearch&&f.onSearch(e)},b=(e,n)=>{h(e),f.onChange&&f.onChange(e,n)};return"inline"===g?(0,i.jsx)(r.NIc,{isInvalid:p,isRequired:u,children:(0,i.jsxs)(r.rjZ,{templateColumns:t?"1fr 3fr":"1fr",children:[t?(0,i.jsx)(s.__,{htmlFor:f.id||n,...c,children:t}):null,(0,i.jsxs)(r.jqI,{align:"center",children:[(0,i.jsxs)(r.jqI,{vertical:!0,flex:1,className:"mr-2",children:[(0,i.jsx)(r.WPr,{...x,id:f.id||n,"data-testid":"controlled-select-".concat(x.name),...f,optionRender:C,onSearch:"tags"===f.mode?y:void 0,onChange:b,value:x.value||void 0}),(0,i.jsx)(s.Bc,{isInvalid:p,message:m.error,fieldName:x.name})]}),d?(0,i.jsx)(a.Z,{label:d}):null]})]})}):(0,i.jsx)(r.NIc,{isInvalid:p,isRequired:u,children:(0,i.jsxs)(r.gCW,{alignItems:"start",children:[(0,i.jsxs)(r.jqI,{align:"center",children:[t?(0,i.jsx)(s.__,{htmlFor:f.id||n,fontSize:"xs",my:0,mr:1,...c,children:t}):null,d?(0,i.jsx)(a.Z,{label:d}):null]}),(0,i.jsx)(r.WPr,{...x,id:f.id||n,"data-testid":"controlled-select-".concat(x.name),...f,optionRender:C,onSearch:"tags"===f.mode?y:void 0,onChange:b,value:x.value||void 0}),(0,i.jsx)(s.Bc,{isInvalid:p,message:m.error,fieldName:x.name})]})})}},812:function(e,n,t){"use strict";t.d(n,{D4:function(){return l.D4},MM:function(){return g},Ot:function(){return c},c6:function(){return r},cj:function(){return x},e$:function(){return a},fn:function(){return s},iC:function(){return f},nU:function(){return u},tB:function(){return d}});var i,r,l=t(19043);let o="An unexpected error occurred. Please try again.",a=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if((0,l.Bw)(e)){if((0,l.hE)(e.data))return e.data.detail;if((0,l.cz)(e.data)){var t;let n=null===(t=e.data.detail)||void 0===t?void 0:t[0];return"".concat(null==n?void 0:n.msg,": ").concat(null==n?void 0:n.loc)}if(409===e.status&&(0,l.Dy)(e.data)||404===e.status&&(0,l.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return n};function s(e){return"object"==typeof e&&null!=e&&"status"in e}function c(e){return"object"==typeof e&&null!=e&&"data"in e&&"string"==typeof e.data.detail}function d(e){return"object"==typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}let u=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:o};if((0,l.oK)(e))return{status:e.originalStatus,message:e.data};if((0,l.Bw)(e)){let{status:t}=e;return{status:t,message:a(e,n.message)}}return n},g=e=>Object.entries(e).map(e=>({value:e[1],label:e[1]}));(i=r||(r={})).GVL="gvl",i.AC="gacp",i.COMPASS="compass";let f={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},x=e=>{let n=e.split(".")[0];return"gacp"===n?"gacp":"gvl"===n?"gvl":"compass"}},22406:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var i,r,l,o,a=t(24246),s=t(56351),c=t(27378),d=t(7617),u=t(18225),g=t(77213),f=t(58754),x=t(14207),m=t(8133),h=t(15987),p=t(75595),v=e=>{let{integrationType:n,onConfigure:t,onCancel:i}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{integration:null==n?void 0:n.placeholder,onConfigureClick:t}),null==n?void 0:n.overview,(0,a.jsxs)(s.kCb,{children:[(0,a.jsx)(s.LZC,{}),(0,a.jsx)(s.wpx,{onClick:i,children:"Cancel"})]})]})},j=t(25980),C=t(7621);(i=l||(l={})).ALL="All",i.DATABASE="Database",i.DATA_CATALOG="Data Catalog",i.DATA_WAREHOUSE="Data Warehouse",i.WEBSITE="Website";var y=e=>{var n;let t=Object.values(l),[i,r]=(0,c.useState)(0),o=t[i],[a,s]=(0,c.useState)(!1),d="All"!==o,u=null!==(n=null==e?void 0:e.filter(e=>!d||e.category===o))&&void 0!==n?n:[];return{tabs:t,tabIndex:i,anyFiltersApplied:d,isFiltering:a,onChangeFilter:e=>{s(!0),r(e),setTimeout(()=>s(!1),100)},filteredTypes:u}},b=e=>{let{onCancel:n,onDetailClick:t,onConfigureClick:i}=e,{tabIndex:r,onChangeFilter:l,isFiltering:o,filteredTypes:c,tabs:g}=y(C.FO),{flags:{datahub:f}}=(0,j.Vb)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.mQc,{index:r,onChange:l,mb:4,children:(0,a.jsx)(s.tdY,{children:g.map(e=>(0,a.jsx)(d.q,{label:e},e))})}),o?(0,a.jsx)(u.Z,{}):(0,a.jsx)(s.kCb,{direction:"column",children:c.map(e=>f||"datahub"!==e.placeholder.connection_type?(0,a.jsx)(p.Z,{integration:e.placeholder,onConfigureClick:()=>i(e),otherButtons:(0,a.jsx)(s.wpx,{onClick:()=>t(e),children:"Details"})},e.placeholder.key):null)}),(0,a.jsxs)(s.kCb,{children:[(0,a.jsx)(s.LZC,{}),(0,a.jsx)(s.wpx,{onClick:n,children:"Cancel"})]})]})},_=t(64176);(r=o||(o={})).LIST_VIEW="list-view",r.DETAIL="detail",r.FORM="form";var A=e=>{let{isOpen:n,onClose:t}=e,[i,r]=(0,c.useState)("list-view"),[l,o]=(0,c.useState)(),s=(0,_.Z)(null==l?void 0:l.placeholder.connection_type),d=()=>{r("list-view"),o(void 0),t()},u=l?"".concat(l.placeholder.name," Integration"):"Add integration";return(0,a.jsxs)(m.Z,{size:"2xl",isOpen:n,onClose:d,title:u,children:["list-view"===i&&(0,a.jsx)(b,{onCancel:d,onDetailClick:e=>{r("detail"),o(e)},onConfigureClick:e=>{r("form"),o(e)}}),"detail"===i&&(0,a.jsx)(v,{integrationType:l,onConfigure:()=>r("form"),onCancel:d}),"form"===i&&(0,a.jsx)(h.Z,{connectionOption:s,onCancel:d})]})},k=t(86677),w=t(77830),I=e=>{let{isFiltered:n,onOpenAddModal:t}=e;return(0,a.jsxs)(s.kCb,{direction:"column",alignItems:"center","data-testid":"empty-state",children:[(0,a.jsx)(s.xvT,{color:"gray.700",fontWeight:"semibold",fontSize:"md",children:"No integrations"}),(0,a.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",marginTop:"8px",children:n?"No integrations match your filters":"You have not configured any integrations"}),(0,a.jsx)(s.xvT,{color:"gray.700",fontSize:"sm",children:'Click "Add integration" to connect and configure systems now.'}),(0,a.jsx)(s.wpx,{type:"primary",onClick:t,className:"mt-4",children:"Add integration"})]})},S=e=>{let{integrations:n,isFiltered:t,onOpenAddModal:i}=e,r=(0,k.useRouter)();return(0,a.jsx)(s.xuv,{marginTop:"24px",children:n.length?n.map(e=>(0,a.jsx)(p.Z,{integration:e,showTestNotice:!0,configureButtonLabel:"Manage",onConfigureClick:()=>r.push("".concat(w.KH,"/").concat(e.key))},e.key)):(0,a.jsx)(I,{onOpenAddModal:i,isFiltered:t})})},L=()=>{var e,n;let{data:t,isLoading:i}=(0,x.AZ)({connection_type:C.jq}),{onOpen:r,isOpen:l,onClose:o}=(0,s.qY0)(),{tabIndex:c,onChangeFilter:m,anyFiltersApplied:h,isFiltering:p,filteredTypes:v,tabs:j}=y(null==t?void 0:null===(e=t.items)||void 0===e?void 0:e.map(e=>(0,C.ZP)(e.connection_type))),b=null!==(n=null==t?void 0:t.items.filter(e=>v.some(n=>n.placeholder.connection_type===e.connection_type)))&&void 0!==n?n:[];return(0,a.jsxs)(g.Z,{title:"Integrations",children:[(0,a.jsx)(f.Z,{heading:"Integrations",breadcrumbItems:[{title:"All integrations"}]}),(0,a.jsxs)(s.xuv,{"data-testid":"integration-tabs",display:"flex",children:[(0,a.jsx)(s.mQc,{index:c,onChange:m,w:"full",children:(0,a.jsx)(s.tdY,{children:j.map(e=>(0,a.jsx)(d.q,{label:e},e))})}),(0,a.jsx)(s.xuv,{borderBottom:"2px solid",borderColor:"gray.200",height:"fit-content",pr:"2",pb:"2",children:(0,a.jsx)(s.wpx,{onClick:r,"data-testid":"add-integration-btn",icon:(0,a.jsx)(s.xPt,{}),iconPosition:"end",children:"Add Integration"})})]}),i||p?(0,a.jsx)(u.Z,{}):(0,a.jsx)(S,{integrations:b,onOpenAddModal:r,isFiltered:h}),(0,a.jsx)(A,{isOpen:l,onClose:o})]})}},19043:function(e,n,t){"use strict";t.d(n,{Bw:function(){return o},D4:function(){return r},Dy:function(){return s},XD:function(){return c},cz:function(){return d},hE:function(){return a},oK:function(){return l}});var i=t(76649);let r=e=>"error"in e,l=e=>(0,i.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status,o=e=>(0,i.Ln)({status:"number",data:{}},e),a=e=>(0,i.Ln)({detail:"string"},e),s=e=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),c=e=>(0,i.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),d=e=>(0,i.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},function(e){e.O(0,[2858,2866,9278,6834,5973,2888,9774,179],function(){return e(e.s=9387)}),_N_E=e.O()}]);