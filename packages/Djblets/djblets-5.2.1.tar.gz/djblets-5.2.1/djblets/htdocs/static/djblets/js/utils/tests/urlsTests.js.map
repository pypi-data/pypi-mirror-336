{"version":3,"file":"urlsTests.js","names":["suite","describe","it","url","Djblets","buildURL","baseURL","expect","toBe","anchor","queryData","a","name","value","parseQueryString","toEqual","c","e","abc","ghi","queryString","allowMultiValue","b"],"sources":["../../../../../../static/djblets/js/utils/tests/urlsTests.es6.js"],"sourcesContent":["suite('djblets/utils/urls', function() {\n    describe('buildURL', function() {\n        it('With just baseURL', function() {\n            const url = Djblets.buildURL({\n                baseURL: 'https://example.com/abc123/',\n            });\n\n            expect(url).toBe('https://example.com/abc123/');\n        });\n\n        describe('With anchor', function() {\n            it('With leading \"#\"', function() {\n                const url = Djblets.buildURL({\n                    anchor: '#my-anchor',\n                    baseURL: 'https://example.com/abc123/',\n                });\n\n                expect(url).toBe('https://example.com/abc123/#my-anchor');\n            });\n\n            it('Without leading \"#\"', function() {\n                const url = Djblets.buildURL({\n                    anchor: 'my-anchor',\n                    baseURL: 'https://example.com/abc123/',\n                });\n\n                expect(url).toBe('https://example.com/abc123/#my-anchor');\n            });\n        });\n\n        describe('With queryData', function() {\n            describe('As string', function() {\n                it('With leading \"?\"', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: '?a=b&c=d',\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/?a=b&c=d');\n                });\n\n                it('Without leading \"?\"', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: 'a=b&c=d',\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/?a=b&c=d');\n                });\n\n                it('Empty', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: '',\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/');\n                });\n            });\n\n            describe('As object', function() {\n                it('With value', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: {\n                            a: 'b',\n                        },\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/?a=b');\n                });\n\n                it('Empty', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: {},\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/');\n                });\n            });\n\n            describe('As array', function() {\n                it('With value', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: [\n                            {\n                                name: 'a',\n                                value: 'b',\n                            },\n                            {\n                                name: 'c',\n                                value: 'd',\n                            },\n                        ],\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/?a=b&c=d');\n                });\n\n                it('Empty', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: [],\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/');\n                });\n            });\n        });\n\n        it('With all options', function() {\n            const url = Djblets.buildURL({\n                anchor: 'my-anchor',\n                baseURL: 'https://example.com/abc123/',\n                queryData: 'a=b&c=d',\n            });\n\n            expect(url).toBe(\n                'https://example.com/abc123/?a=b&c=d#my-anchor');\n        });\n    });\n\n    describe('parseQueryString', function() {\n        it('Empty query string', function() {\n            expect(Djblets.parseQueryString('')).toEqual({});\n        });\n\n        it('Basic query strings', function() {\n            expect(Djblets.parseQueryString('?a=b&c=d&e=f')).toEqual({\n                a: 'b',\n                c: 'd',\n                e: 'f',\n            });\n        });\n\n        it('Keys without values', function() {\n            expect(Djblets.parseQueryString('?abc=def&ghi')).toEqual({\n                abc: 'def',\n                ghi: null,\n            });\n        });\n\n        describe('Multiple values for keys', function() {\n            it('With allowMultiValue=true', function() {\n                const queryString =\n                    Djblets.parseQueryString('?a=1&a=2&a=3&b=4', {\n                        allowMultiValue: true,\n                    });\n\n                expect(queryString).toEqual({\n                    a: ['1', '2', '3'],\n                    b: '4',\n                });\n            });\n\n            it('Without allowMultiValue=true', function() {\n                expect(Djblets.parseQueryString('?a=1&a=2&a=3&b=4')).toEqual({\n                    a: '3',\n                    b: '4',\n                });\n            });\n        });\n    });\n});\n"],"mappings":"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"}