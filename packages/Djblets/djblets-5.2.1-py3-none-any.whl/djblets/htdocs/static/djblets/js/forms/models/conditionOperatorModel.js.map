{"version":3,"file":"conditionOperatorModel.js","names":["Djblets","Forms","ConditionOperator","Backbone","Model","extend","defaults","name","useValue","valueField","createValueField","fieldName","get","console","assert","viewClass","_","model","modelClass","modelData","viewData","parse","data","id","ConditionChoice","parseValueFieldData"],"sources":["../../../../../../static/djblets/js/forms/models/conditionOperatorModel.es6.js"],"sourcesContent":["/**\n * A possible operator for a condition choice.\n *\n * An operator simply stores state indicating the operator name, ID, and\n * whether the user should be prompted for a value.\n *\n * Model Attributes:\n *     name (string):\n *         The human-readable name of the operator.\n *\n *     useValue (boolean):\n *         Whether the user should be prompted for a value. Defaults to\n *         ``false``.\n *\n *     valueField (object):\n *         Information about the object handling the storage and manipulation\n *         of values for the condition. If set, it will override the default\n *         value for the condition.\n *\n *         This will have ``modelClass` and ``viewClass`` keys pointing to the\n *         object constructors for the model and view for the value field,\n *         along with ``modelData`` and ``viewData`` controlling the model\n *         attributes and view options, respectively.\n */\nDjblets.Forms.ConditionOperator = Backbone.Model.extend({\n    defaults: {\n        name: null,\n        useValue: false,\n        valueField: null,\n    },\n\n    /**\n     * Create the value field for the operator.\n     *\n     * This will construct a new instance of the view used to take values for\n     * this operator.\n     *\n     * Args:\n     *     fieldName (string):\n     *         The name for the form field.\n     *\n     * Returns:\n     *     Djblets.Forms.BaseConditionValueFieldView:\n     *     The view for the field.\n     */\n    createValueField(fieldName) {\n        const valueField = this.get('valueField');\n\n        console.assert(valueField,\n                       'This operator does not have a custom valueField.');\n\n        return new valueField.viewClass(_.defaults({\n            model: new valueField.modelClass(_.defaults({\n                fieldName: fieldName,\n            }, valueField.modelData)),\n        }, valueField.viewData));\n    },\n\n    /**\n     * Parse the attribute data passed to the model.\n     *\n     * Args:\n     *     data (object):\n     *         The attribute data passed to the model.\n     *\n     *  Returns:\n     *     object:\n     *     The parsed attributes.\n     */\n    parse(data) {\n        return {\n            id: data.id,\n            name: data.name,\n            useValue: data.useValue,\n            valueField: Djblets.Forms.ConditionChoice.parseValueFieldData(\n                data.valueField),\n        };\n    },\n});\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,OAAO,CAACC,KAAK,CAACC,iBAAiB,GAAGC,QAAQ,CAACC,KAAK,CAACC,MAAM,CAAC;EACpDC,QAAQ,EAAE;IACNC,IAAI,EAAE,IAAI;IACVC,QAAQ,EAAE,KAAK;IACfC,UAAU,EAAE;EAChB,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIC,gBAAgB,CAACC,SAAS,EAAE;IACxB,MAAMF,UAAU,GAAG,IAAI,CAACG,GAAG,CAAC,YAAY,CAAC;IAEzCC,OAAO,CAACC,MAAM,CAACL,UAAU,EACV,kDAAkD,CAAC;IAElE,OAAO,IAAIA,UAAU,CAACM,SAAS,CAACC,CAAC,CAACV,QAAQ,CAAC;MACvCW,KAAK,EAAE,IAAIR,UAAU,CAACS,UAAU,CAACF,CAAC,CAACV,QAAQ,CAAC;QACxCK,SAAS,EAAEA;MACf,CAAC,EAAEF,UAAU,CAACU,SAAS,CAAC;IAC5B,CAAC,EAAEV,UAAU,CAACW,QAAQ,CAAC,CAAC;EAC5B,CAAC;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIC,KAAK,CAACC,IAAI,EAAE;IACR,OAAO;MACHC,EAAE,EAAED,IAAI,CAACC,EAAE;MACXhB,IAAI,EAAEe,IAAI,CAACf,IAAI;MACfC,QAAQ,EAAEc,IAAI,CAACd,QAAQ;MACvBC,UAAU,EAAET,OAAO,CAACC,KAAK,CAACuB,eAAe,CAACC,mBAAmB,CACzDH,IAAI,CAACb,UAAU;IACvB,CAAC;EACL;AACJ,CAAC,CAAC"}