{"version":3,"file":"addIntegrationPopupViewTests.js","names":["suite","describe","it","view","Djblets","AddIntegrationPopupView","integrations","render","expect","$el","hasClass","toBe","$items","find","length","$item","eq","children","attr","text","trim","$icon","$empty","$"],"sources":["../../../../../../../static/djblets/js/integrations/views/tests/addIntegrationPopupViewTests.es6.js"],"sourcesContent":["suite('djblets/integrations/views/AddIntegrationPopupView', function() {\n    describe('Rendering', function() {\n        it('With integrations', function() {\n            const view = new Djblets.AddIntegrationPopupView({\n                integrations: [\n                    {\n                        'addURL': 'int1/add/',\n                        'description': 'Int1 Description',\n                        'iconSrc': 'data:test,int1',\n                        'iconSrcSet': 'data:test,int1 1x, ' +\n                                      'data:test,int1@2x 2x',\n                        'id': 'int1',\n                        'name': 'Int1',\n                    },\n                    {\n                        'addURL': 'int2/add/',\n                        'description': 'Int2 Description',\n                        'iconSrc': 'data:test,int2',\n                        'iconSrcSet': 'data:test,int2 1x, ' +\n                                      'data:test,int2@2x 2x',\n                        'id': 'int2',\n                        'name': 'Int2',\n                    },\n                ],\n            });\n            view.render();\n\n            expect(view.$el.hasClass('-is-empty')).toBe(false);\n\n            const $items = view.$el.find('.djblets-c-integration');\n            expect($items.length).toBe(2);\n\n            /* Check the first integration. */\n            let $item = $items.eq(0);\n            expect($item.children('a').attr('href')).toBe('int1/add/');\n            expect($item.find('.djblets-c-integration__name').text())\n                .toBe('Int1');\n            expect(\n                $item.find('.djblets-c-integration__description')\n                    .text().trim()\n            ).toBe('Int1 Description');\n\n            let $icon = $item.find('.djblets-c-integration__icon');\n            expect($icon.attr('src')).toBe('data:test,int1');\n            expect($icon.attr('srcset'))\n                .toBe('data:test,int1 1x, data:test,int1@2x 2x');\n\n            /* Check the second integration. */\n            $item = $items.eq(1);\n            expect($item.children('a').attr('href')).toBe('int2/add/');\n            expect($item.find('.djblets-c-integration__name').text())\n                .toBe('Int2');\n            expect(\n                $item.find('.djblets-c-integration__description')\n                    .text().trim()\n            ).toBe('Int2 Description');\n\n            $icon = $item.find('.djblets-c-integration__icon');\n            expect($icon.attr('src')).toBe('data:test,int2');\n            expect($icon.attr('srcset'))\n                .toBe('data:test,int2 1x, data:test,int2@2x 2x');\n        });\n\n        it('Without integrations', function() {\n            const view = new Djblets.AddIntegrationPopupView({\n                integrations: [],\n            });\n            view.render();\n\n            expect(view.$el.hasClass('-is-empty')).toBe(true);\n\n            const $empty = view.$('.djblets-c-integrations-popup__empty');\n            expect($empty.length).toBe(1);\n\n            expect($empty.text().trim()).toBe(\n                'There are no integrations currently installed.');\n        });\n    });\n});\n"],"mappings":"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"}