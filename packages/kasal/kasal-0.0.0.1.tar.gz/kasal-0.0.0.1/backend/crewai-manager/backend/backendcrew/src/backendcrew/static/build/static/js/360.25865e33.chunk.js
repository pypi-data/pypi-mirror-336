"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[360],{8360:(e,a,s)=>{s.r(a),s.d(a,{default:()=>W});var n=s(9379),t=s(5043),r=s(2110),i=s(6494),c=s(7353),o=s(4496),l=s(3193),d=s(9190),g=s(9285),h=s(2143),u=s(9336),b=s(4605),x=s(4598),m=s(683),f=s(5795),A=s(1906),j=s(1637),v=s(4194),p=s(794),y=s(2069),C=s(7141),k=s(6734),I=s(579);const w=(0,k.A)((0,I.jsx)("path",{d:"m12.87 15.07-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"}),"Translate");var S=s(4117),_=s(2502),D=s(9606),O=s(3794);const W=function(){const{t:e}=(0,S.Bd)(),[a,s]=(0,t.useState)({workspace_url:"",warehouse_id:"",catalog:"",schema:"",secret_scope:"",enabled:!1}),[k,W]=(0,t.useState)("en"),[L,z]=(0,t.useState)(!1),[E,N]=(0,t.useState)({open:!1,message:"",severity:"success"});(0,t.useEffect)((()=>{(async()=>{try{const e=_.O.getInstance(),a=await e.getDatabricksConfig();s(a);const n=D.g.getInstance(),t=await n.getCurrentLanguage();W(t)}catch(e){const a=localStorage.getItem("DATABRICKS_CONFIG");a&&s(JSON.parse(a))}})()}),[]);const F=()=>{N((0,n.A)((0,n.A)({},E),{},{open:!1}))},H=e=>a=>{s((s=>(0,n.A)((0,n.A)({},s),{},{[e]:a.target.value})))};return(0,I.jsx)(r.A,{children:(0,I.jsxs)(i.A,{children:[(0,I.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",mb:3},children:[(0,I.jsx)(y.A,{sx:{mr:1,color:"primary.main"}}),(0,I.jsx)(o.A,{variant:"h5",children:e("configuration.title")})]}),(0,I.jsxs)(c.A,{sx:{maxWidth:600,mb:4},children:[(0,I.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,I.jsx)(w,{sx:{mr:1,color:"primary.main"}}),(0,I.jsx)(o.A,{variant:"h6",children:e("configuration.language.title")})]}),(0,I.jsxs)(l.A,{fullWidth:!0,children:[(0,I.jsx)(d.A,{id:"language-select-label",children:e("configuration.language.select")}),(0,I.jsx)(g.A,{labelId:"language-select-label",value:k,onChange:async a=>{const s=a.target.value;try{const a=D.g.getInstance();await a.setLanguage(s),W(s),N({open:!0,message:e("configuration.language.saved"),severity:"success"})}catch(n){console.error("Error changing language:",n),N({open:!0,message:n instanceof Error?n.message:"Failed to change language",severity:"error"})}},label:e("configuration.language.select"),children:Object.entries(O.Y).map((e=>{let[a,{nativeName:s}]=e;return(0,I.jsx)(h.A,{value:a,children:s},a)}))})]})]}),(0,I.jsx)(u.A,{sx:{my:4}}),(0,I.jsxs)(c.A,{sx:{maxWidth:600},children:[(0,I.jsxs)(c.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,I.jsx)(o.A,{variant:"h6",children:e("configuration.databricks.title")}),(0,I.jsx)(b.A,{control:(0,I.jsx)(x.A,{checked:a.enabled,onChange:e=>{s((a=>(0,n.A)((0,n.A)({},a),{},{enabled:e.target.checked})))},color:"primary"}),label:a.enabled?e("common.enabled"):e("common.disabled")})]}),(0,I.jsxs)(m.A,{spacing:2,sx:{mb:2},children:[(0,I.jsx)(f.A,{label:e("configuration.databricks.warehouseId"),value:a.warehouse_id,onChange:H("warehouse_id"),fullWidth:!0,disabled:L||!a.enabled}),(0,I.jsx)(f.A,{label:e("configuration.databricks.catalog"),value:a.catalog,onChange:H("catalog"),fullWidth:!0,disabled:L||!a.enabled}),(0,I.jsx)(f.A,{label:e("configuration.databricks.schema"),value:a.schema,onChange:H("schema"),fullWidth:!0,disabled:L||!a.enabled}),(0,I.jsx)(f.A,{label:e("configuration.databricks.secretScope"),value:a.secret_scope,onChange:H("secret_scope"),fullWidth:!0,disabled:L||!a.enabled}),(0,I.jsx)(c.A,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,I.jsx)(A.A,{variant:"contained",startIcon:L?(0,I.jsx)(j.A,{size:20}):(0,I.jsx)(C.A,{}),onClick:async()=>{if(a.enabled){const e={"Warehouse ID":a.warehouse_id,Catalog:a.catalog,Schema:a.schema,"Secret Scope":a.secret_scope};for(const[a,s]of Object.entries(e))if(!s.trim())return void N({open:!0,message:"Please enter a ".concat(a),severity:"error"})}z(!0);try{const s=_.O.getInstance(),n=await s.setDatabricksConfig(a);localStorage.setItem("DATABRICKS_CONFIG",JSON.stringify(n)),N({open:!0,message:e("configuration.databricks.saved"),severity:"success"})}catch(s){console.error("Error saving Databricks configuration:",s),N({open:!0,message:s instanceof Error?s.message:"Failed to save Databricks configuration",severity:"error"})}finally{z(!1)}},disabled:L,children:e(L?"common.loading":"common.save")})})]}),!a.enabled&&(0,I.jsx)(v.A,{severity:"info",sx:{mt:2},children:e("configuration.databricks.disabledInfo")||"When Databricks integration is disabled, UC Tools and Databricks-stored API keys will not be available."})]}),(0,I.jsx)(p.A,{open:E.open,autoHideDuration:6e3,onClose:F,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,I.jsx)(v.A,{onClose:F,severity:E.severity,sx:{width:"100%"},children:E.message})})]})})}}}]);
//# sourceMappingURL=360.25865e33.chunk.js.map