[tool.poetry]
name = "adc-toolkit"
version = "0.0.1a1"
description = "ADC toolkit, here to help you."
authors = [
    "Ivan <ivan.k@adc-consulting.com>",
    "Jakob <jakob.d@adc-consulting.com>",
    "Marc <marc@adc-consulting.com>",
    "Martijn <martijn.b@adc-consulting.com>",
    "Max <max.h@adc-consulting.com>",
    "Negin <negin.g@adc-consulting.com>",
    "Niek <niek.vdl@adc-consulting.com",
    "Nils <nils.j@adc-consulting.com>",
    "Rutger <rutger.l@adc-consulting.com>",
]
packages = [
    { include = "acmetric", from = "src" }
]

[tool.poetry.scripts]
# test_run = "test:test_function"


[tool.poetry.dependencies]
python = ">=3.9"
# validation
pydantic = "*"
# stats packages
numpy = "^1.23.0"
scipy = "^1.8.1"
statsmodels = "^0.14.4"
# data handling
pandas = "^1.3.5"
# working with parquet
pyarrow = "^12.0.1"
fastparquet = "^2023.7.0"
# visualizations
# acmetric-plotting = {git = "https://github.com/ACMetric/acmetric_package.git"}
matplotlib = "^3.7.2"
seaborn = "^0.11.2"
# configurations
hydra-core = "^1.2.0"
# portray = "^1.7.0"
# "ruamel.yaml" = "^0.17.21"
# PyYAML = "^6.0"
# pandasgui = "^0.2.14" # Manual installation for the time being

# Logging
loguru = { version = "^0.7.2", optional = true }

# GCP
google-cloud-bigquery-storage = { version = "^2.13.2", optional = true }
google-api-core = { version = "^2.8.2", optional = true }
pandas-gbq = { version = "^0.19.2", optional = true }
gcsfs = { version = "^2023.9.2", optional = true }
dbt-bigquery = { version = "^1.0.0", optional = true }

# Spark
pyspark = { version = "^3.2.0", optional = true }

# Kedro
kedro = { version = "^0.18.13", optional = true }
kedro-datasets = { version = "^1.7.0", optional = true }

# Great Expectations
great-expectations = { version = "^0.18.2", optional = true }

# Pandera
pandera = { version = "^0.17.2", optional = true }

# ! All the referenced packages below should fall under the [tool.poetry.dependencies] section
[tool.poetry.extras]
logging = ["loguru"]
gcp = ["google-cloud-bigquery-storage", "google-api-core", "pandas-gbq", "gcsfs", "dbt-bigquery"]
spark = ["pyspark"]
kedro = ["kedro", "kedro-datasets"]
great_expectations = ["great-expectations"]
pandera = ["pandera"]

# Development dependencies
[tool.poetry.group.dev.dependencies]
ipykernel = "^6.13.0"
# testing tools
pytest = "^7.1.2"
pytest-cov = "^3.0.0"
# precommit and linting
pre-commit = "=2.21.0"
mypy = "=1.6.0"
black = "=22.3.0"
# flake8 = "=4.0.1"
ruff = "=0.1.6"

# CI/CD
[tool.poetry.group.ci]
optional = true

[tool.poetry.group.ci.dependencies]
pandas = "^1.4.3"
kedro = "^0.18.13"
kedro-datasets = "^1.7.0"
great-expectations = "^0.18.2"
pyspark = "^3.2.0"
loguru = "^0.7.2"
statsmodels = "^0.14.4"
matplotlib = "^3.7.2"
# testing tools
pytest = "^7.1.2"
pytest-cov = "^3.0.0"

# Tool configurations
[tool.isort]
profile = "black"
multi_line_output = 3

[tool.mypy]
disallow_untyped_defs = true
disallow_any_unimported = true
no_implicit_optional = true
check_untyped_defs = true
show_error_codes = true
warn_unused_ignores = true

[tool.ruff]
line-length = 120
ignore = ["F811"]

[tool.ruff.lint.per-file-ignores]
"notebooks/*.py" = ["E402"]

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"