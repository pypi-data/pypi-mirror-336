import{e as d,a as u,t as J,b as $}from"./disclose-version.DmlnhT3J.js";import{i as N}from"./legacy.CoyMJ5xE.js";import{p as T,l as D,b as E,g as l,t as x,a as G,c as A,n as g,s as y,r as q,m as H,d as K,q as M,u as C}from"./index-client.DkPLSjuc.js";import{p as c,i as Q}from"./props.BV9OlT46.js";import{B as h,e as R,i as U}from"./index.CQk4rkOh.js";import{L as V}from"./TimeAgo.CwQil4Po.js";var W=J('<div class="flex flex-col space-y-1.5"><!> <div class="flex gap-2"><!> <!> <!></div></div>');function te(t,e){T(e,!1);const r=H();let n=c(e,"statusFilter",12,""),o=c(e,"statusCounts",24,()=>({})),v=c(e,"totalCount",8),f=c(e,"selectedFilter",12,!1),_=c(e,"selectedCount",8,null);function m(a,s){n(a),f(s)}D(()=>M(o()),()=>{K(r,Object.entries(o()).filter(([a,s])=>s>0).map(([a])=>a))}),E(),N();var p=W(),F=A(p);V(F,{children:(a,s)=>{g();var i=d("Filter");u(a,i)},$$slots:{default:!0}});var L=y(F,2),P=A(L),B=C(()=>n()===""&&!f()?"bg-gray-100 border-gray-200":"");h(P,{variant:"outline",size:"sm",get class(){return l(B)},$$events:{click:()=>m("",!1)},children:(a,s)=>{g();var i=d();x(()=>$(i,`All tasks (${v()??""})`)),u(a,i)},$$slots:{default:!0}});var w=y(P,2);Q(w,()=>_()!==null&&_()>0,a=>{var s=C(()=>f()?"bg-blue-50 border-blue-200 text-blue-700":"");h(a,{variant:"outline",size:"sm",get class(){return l(s)},$$events:{click:()=>m("",!0)},children:(i,O)=>{g();var b=d();x(()=>$(b,`Selected (${_()??""})`)),u(i,b)},$$slots:{default:!0}})});var I=y(w,2);R(I,1,()=>l(r),U,(a,s)=>{var i=C(()=>`
                    ${l(s)==="completed"?"text-green-700":l(s)==="failed"?"text-red-700":"text-gray-700"}
                    ${n()===l(s)&&!f()?l(s)==="completed"?"bg-green-50 border-green-200":l(s)==="failed"?"bg-red-50 border-red-200":"bg-gray-50 border-gray-200":""}
                `);h(a,{variant:"outline",size:"sm",get class(){return l(i)},$$events:{click:()=>m(l(s),!1)},children:(O,b)=>{g();var z=d();x(()=>$(z,`${l(s)??""} (${o()[l(s)]??""})`)),u(O,z)},$$slots:{default:!0}})}),q(L),q(p),u(t,p),G()}function re(t){return{isPassed:t.eval_passed,statusClass:t.eval_passed?"bg-green-50 hover:bg-green-100":"bg-red-100 hover:bg-red-200"}}function se(t,e=50){if(!t)return"-";const r=typeof t=="object"&&"str"in t?t.str:JSON.stringify(t);return r.length>e?r.slice(0,e)+"...":r}function ae(t,e,r,n=null){return t==null?void 0:t.filter(o=>{if(n!==null&&!n.includes(o.id)||e&&o.status!==e)return!1;if(r){const v=r.toLowerCase();return S(v,o)}return!0})}function le(t){return(t==null?void 0:t.reduce((e,r)=>(e[r.status]=(e[r.status]||0)+1,e),{}))||{}}function S(t,e){if(!e)return!1;const r=t.toLowerCase();return typeof e=="string"?e.toLowerCase().includes(r):typeof e=="number"?e.toString().toLowerCase().includes(r):Array.isArray(e)?e.some(n=>S(r,n)):typeof e=="object"?Object.values(e).some(n=>S(r,n)):!1}export{te as S,re as a,ae as f,le as g,se as t};
